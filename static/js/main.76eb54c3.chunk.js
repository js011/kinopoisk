(this.webpackJsonpkinopoisk=this.webpackJsonpkinopoisk||[]).push([[0],{11:function(e,a,l){e.exports=l(19)},16:function(e,a,l){},17:function(e,a,l){},19:function(e,a,l){"use strict";l.r(a);var t=l(0),n=l.n(t),r=l(8),o=l.n(r),s=(l(16),l(5)),i=l(6),c=l(1),u=l(2),v=l(4),b=l(3),m=(l(17),function(e){return n.a.createElement("div",{className:"container pt-3 pb-3"},n.a.createElement("div",{className:"title col-2"},n.a.createElement("p",{className:"title__name",style:{visibility:"hidden"}},"Kino",n.a.createElement("span",{className:"title__name-prefix"},"poisk"))),n.a.createElement("div",{className:"search col-10"}))}),p=function(e){Object(v.a)(l,e);var a=Object(b.a)(l);function l(){return Object(c.a)(this,l),a.apply(this,arguments)}return Object(u.a)(l,[{key:"render",value:function(){var e=this.props,a=e.sort_by,l=e.onChangeFilters,t=e.sortByOptions;return n.a.createElement("select",{className:"form-control",name:"sort_by",id:"sort_by",value:a,onChange:l},t.map((function(e){return n.a.createElement("option",{key:e.value,value:e.value},e.label)})))}}]),l}(n.a.PureComponent);p.defaultProps={sortByOptions:[{label:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435 (\u0443\u0431\u044b\u0432\u0430\u043d\u0438\u0435)",value:"popularity.desc"},{label:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435 (\u0432\u043e\u0437\u0440\u043e\u0441\u0442\u0430\u043d\u0438\u0435)",value:"popularity.asc"},{label:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 (\u0443\u0431\u044b\u0432\u0430\u043d\u0438\u0435)",value:"vote_average.desc"},{label:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 (\u0432\u043e\u0437\u0440\u043e\u0441\u0442\u0430\u043d\u0438\u0435)",value:"vote_average.asc"}]};var g=l(10),h=function(e){Object(v.a)(l,e);var a=Object(b.a)(l);function l(){return Object(c.a)(this,l),a.apply(this,arguments)}return Object(u.a)(l,[{key:"render",value:function(){var e=this.props,a=e.primary_release_year_options,l=e.primary_release_year,t=e.onChangeFilters;return n.a.createElement(n.a.Fragment,null,n.a.createElement("label",{className:"filters-label primary-release-year",htmlFor:"primary_release_year"},"\u0414\u0430\u0442\u0430 \u0432\u044b\u0445\u043e\u0434\u0430"),n.a.createElement("select",{className:"form-control",name:"primary_release_year",id:"primary_release_year",value:l,onChange:t},a.map((function(e){return n.a.createElement("option",{key:e.value,value:e.value},e.label)}))))}}]),l}(n.a.Component);h.defaultProps={primary_release_year_options:Object(g.a)([{label:"1950",value:"1950"},{label:"1951",value:"1951"},{label:"1952",value:"1952"},{label:"1953",value:"1953"},{label:"1954",value:"1954"},{label:"1955",value:"1955"},{label:"1956",value:"1956"},{label:"1957",value:"1957"},{label:"1958",value:"1958"},{label:"1959",value:"1959"},{label:"1960",value:"1960"},{label:"1961",value:"1961"},{label:"1962",value:"1962"},{label:"1963",value:"1963"},{label:"1964",value:"1964"},{label:"1965",value:"1965"},{label:"1966",value:"1966"},{label:"1967",value:"1967"},{label:"1968",value:"1968"},{label:"1969",value:"1969"},{label:"1970",value:"1970"},{label:"1971",value:"1971"},{label:"1972",value:"1972"},{label:"1973",value:"1973"},{label:"1974",value:"1974"},{label:"1975",value:"1975"},{label:"1976",value:"1976"},{label:"1977",value:"1977"},{label:"1978",value:"1978"},{label:"1979",value:"1979"},{label:"1980",value:"1980"},{label:"1981",value:"1981"},{label:"1982",value:"1982"},{label:"1983",value:"1983"},{label:"1984",value:"1984"},{label:"1985",value:"1985"},{label:"1986",value:"1986"},{label:"1987",value:"1987"},{label:"1988",value:"1988"},{label:"1989",value:"1989"},{label:"1990",value:"1990"},{label:"1991",value:"1991"},{label:"1992",value:"1992"},{label:"1993",value:"1993"},{label:"1994",value:"1994"},{label:"1995",value:"1995"},{label:"1996",value:"1996"},{label:"1997",value:"1997"},{label:"1998",value:"1998"},{label:"1999",value:"1999"},{label:"2000",value:"2000"},{label:"2001",value:"2001"},{label:"2002",value:"2002"},{label:"2003",value:"2003"},{label:"2004",value:"2004"},{label:"2005",value:"2005"},{label:"2006",value:"2006"},{label:"2007",value:"2007"},{label:"2008",value:"2008"},{label:"2009",value:"2009"},{label:"2010",value:"2010"},{label:"2011",value:"2011"},{label:"2012",value:"2012"},{label:"2013",value:"2013"},{label:"2014",value:"2014"},{label:"2015",value:"2015"},{label:"2016",value:"2016"},{label:"2017",value:"2017"},{label:"2018",value:"2018"},{label:"2019",value:"2019"},{label:"2020",value:"2020"},{label:"2021",value:"2021"},{label:"2022",value:"2022"},{label:"2023",value:"2023"},{label:"2024",value:"2024"},{label:"2025",value:"2025"}])};var f=function(e){Object(v.a)(l,e);var a=Object(b.a)(l);function l(){return Object(c.a)(this,l),a.apply(this,arguments)}return Object(u.a)(l,[{key:"render",value:function(){var e=this.props,a=e.onChangePage,l=e.page,t=e.total_pages;return n.a.createElement("div",{className:"pagination form-group row col-12"},n.a.createElement("button",{type:"button",className:"btn btn-light col-4",onClick:a.bind(null,l-1),disabled:1===l},"\u041d\u0430\u0437\u0430\u0434"),n.a.createElement("div",{className:"col-4 total-pages"},"".concat(l," \u0438\u0437 ").concat(t)),n.a.createElement("button",{type:"button",className:"btn btn-light col-4",onClick:a.bind(null,l+1),disabled:l===Number(t)},"\u0412\u043f\u0435\u0440\u0435\u0434"))}}]),l}(n.a.Component),y=function(e){Object(v.a)(l,e);var a=Object(b.a)(l);function l(){return Object(c.a)(this,l),a.apply(this,arguments)}return Object(u.a)(l,[{key:"render",value:function(){var e=this.props,a=e.filters,l=a.sort_by,t=a.primary_release_year,r=e.onChangeFilters,o=e.page,s=e.onChangePage,i=e.total_pages;return n.a.createElement(n.a.Fragment,null,n.a.createElement("form",{className:"mb-3"},n.a.createElement("div",{className:"sort form-group"},n.a.createElement("label",{className:"filters-label",htmlFor:"sort_by"},"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"),n.a.createElement(p,{sort_by:l,onChangeFilters:r})),n.a.createElement(f,{total_pages:i,onChangePage:s,page:o}),n.a.createElement("div",{className:"sort form-group mt-3"},n.a.createElement("label",{className:"filters-label",htmlFor:"sort_by"},"\u0424\u0438\u043b\u044c\u0442\u0440\u043e\u0432\u0430\u0442\u044c"),n.a.createElement(h,{primary_release_year:t,onChangeFilters:r}))))}}]),l}(n.a.Component),_="https://api.themoviedb.org/3",d=function(e){var a=e.movie;return n.a.createElement("div",{className:"movie-card"},n.a.createElement("img",{className:"movie-card__img",src:null!==a.poster_path?"".concat("https://image.tmdb.org/t/p/w500").concat(a.poster_path):"not-foundPoster.png",alt:a.title}),n.a.createElement("div",{className:"movie-card__desc"},n.a.createElement("p",{className:"movie-card__desc__title"},a.title)))},E=function(e){Object(v.a)(l,e);var a=Object(b.a)(l);function l(){var e;return Object(c.a)(this,l),(e=a.call(this)).getMovies=function(a){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=a.sort_by,n=a.primary_release_year,r=e.props.onChangeTotalPages,o="".concat(_,"/discover/movie?api_key=").concat("2bf9f43ff01f800a4b2838b95fcce99e","&language=ru-RU&sort_by=").concat(t,"&page=").concat(l,"&primary_release_year=").concat(n);return fetch(o).then((function(e){return e.json()})).then((function(a){r(a.total_pages),e.setState({movies:a.results})}))},e.state={movies:[]},e}return Object(u.a)(l,[{key:"componentDidMount",value:function(){var e=this.props,a=e.filters,l=e.page;this.getMovies(a,l)}},{key:"componentDidUpdate",value:function(e){var a=this.props,l=a.onChangePage,t=a.filters,n=a.page;e.filters.sort_by!==t.sort_by&&(l(1),this.getMovies(t)),e.page!==n&&this.getMovies(t,n),e.filters.primary_release_year!==t.primary_release_year&&(l(1),this.getMovies(t))}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,this.state.movies.map((function(e){return n.a.createElement(d,{movie:e,key:e.id})})))}}]),l}(n.a.Component),C=function(e){Object(v.a)(l,e);var a=Object(b.a)(l);function l(){var e;return Object(c.a)(this,l),(e=a.call(this)).onChangeFilters=function(a){var l=a.target,t=l.name,n=l.value;e.setState((function(e){return{filters:Object(i.a)(Object(i.a)({},e.filters),{},Object(s.a)({},t,n))}}))},e.onChangePage=function(a){e.setState({page:a})},e.onChangeTotalPages=function(a){e.setState({total_pages:a})},e.initializeState={filters:{sort_by:"popularity.desc",primary_release_year:(new Date).getFullYear()},page:1,total_pages:""},e.state=e.initializeState,e}return Object(u.a)(l,[{key:"render",value:function(){var e=this.state,a=e.filters,l=e.page,t=e.total_pages;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"header"},n.a.createElement(m,null)),n.a.createElement("div",{className:"main container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"filters col-3"},n.a.createElement(y,{onChangeFilters:this.onChangeFilters,filters:a,page:l,onChangePage:this.onChangePage,total_pages:t})),n.a.createElement("div",{className:"movies col-9"},n.a.createElement(E,{filters:a,page:l,onChangePage:this.onChangePage,onChangeTotalPages:this.onChangeTotalPages})))))}}]),l}(t.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l(18);var O=l(9);l.n(O).a.load({google:{families:["Open Sans"]}}),o.a.render(n.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[11,1,2]]]);
//# sourceMappingURL=main.76eb54c3.chunk.js.map