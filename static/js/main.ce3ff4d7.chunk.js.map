{"version":3,"sources":["utils/apies.js","components/HOC/AppContextHOC.jsx","components/Header/Authentication/AuthenticationForm.jsx","components/Header/Authentication/Authentication.jsx","components/UI Components/UIDropdown.jsx","components/Header/User.jsx","components/Header/Header.jsx","components/Filters/SortBy.jsx","components/Filters/Pagination.jsx","components/Filters/PrimaryReleaseYear.jsx","data/primary_release_year.js","components/Filters/Genres/Genres.jsx","components/Filters/Genres/GenresContainer.jsx","components/Filters/Filters.jsx","data/months.js","components/Movies/MovieItem.jsx","components/Movies/MoviesList.jsx","components/Movies/MoviesHOC.jsx","components/pages/MoviesPage/MoviesPage.jsx","components/pages/MoviePage/MoviePage.jsx","store/actionCreators/actionCreators.js","App.jsx","serviceWorker.js","store/reducers/reducers.js","store/store.js","index.js"],"names":["api_url","api_key_movieDB_v3","fetchApi","url","options","Promise","resolve","reject","fetch","then","response","status","json","catch","error","CallApi","params","queryStringParams","api_key","queryString","stringify","mode","headers","body","method","JSON","React","Component","AppContext","Consumer","context","props","cookies","Cookies","AppContextHOC","getUser","setState","submitting","get","data","post","username","state","password","request_token","set","session_id","path","maxAge","user","updateSessionId","prevState","errors","base","status_message","validateFields","length","repeatPassword","onChange","e","target","name","value","handleBlur","Object","keys","onSubmit","preventDefault","getClassForInpur","errorName","classNames","invalid","this","className","htmlFor","type","placeholder","id","onBlur","disabled","Authentication","toggleModal","showModal","onClick","Modal","isOpen","toggle","ModalBody","UIDropdown","toggleShow","show","render","style","position","children","defaultProps","top","right","bottom","left","handleLogOut","delete","onLogOut","src","avatar","tmdb","avatar_path","alt","Header","SortBy","sort_by","onChangeFilters","sortByOptions","map","option","key","label","PureComponent","Pagination","onChangePage","page","total_pages","bind","Number","PrimaryReleaseYear","primary_release_year_options","primary_release_year","Genres","with_genres","allGenres","onChangeGenres","item","checked","indexOf","String","GenresContainer","filter","link","genres","Filters","filters","resetFilters","background","months","month","shortName","fullName","MovieItem","getMonthNameOnMonthNumber","movie","release_date","substr","favourite","willWatch","releaseDate","to","poster_path","title","MoreHoriz","Star","StarBorder","Bookmark","BookmarkBorder","MoviesList","movies","account_id","favouriteMovies","watchList","MoviesHOC","getSettingsMovies","nameState","apiParams","language","results","getMovies","onChangeTotalPages","join","firstRender","p","_","isEqual","MoviesPage","s","initialState","Date","getFullYear","MoviePage","match","actionCreatorUpdateAuth","payload","createContext","App","store","dispatch","subscribe","console","log","getState","forceUpdate","Provider","exact","component","Boolean","window","location","hostname","isAuth","reducerApp","action","remove","createStore","WebFont","load","google","families","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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GAAG,uBACHf,MAAOgE,EACPpE,SAAUqD,GAETc,EAA6BZ,KAAI,SAACC,GAAD,OAChC,4BAAQC,IAAKD,EAAOpD,MAAOA,MAAOoD,EAAOpD,OACtCoD,EAAOE,gB,GA5B0B1F,IAAMC,WAAjCiG,EACZ7B,aAAe,CACpB8B,6BAA6B,YCLG,CAClC,CACET,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAGT,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAGT,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAGT,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAGT,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAGT,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAGT,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAGT,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,QAET,CACEsD,MAAO,OACPtD,MAAO,WCnTX,IAAMiE,EAA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","file":"static/js/main.ce3ff4d7.chunk.js","sourcesContent":["import React from 'react'\r\nimport queryString from 'query-string'\r\n\r\nexport const api_url = 'https://api.themoviedb.org/3'\r\n\r\nexport const api_img_url = 'https://image.tmdb.org/t/p/w500'\r\n\r\nexport const api_key_movieDB_v3 = '2bf9f43ff01f800a4b2838b95fcce99e'\r\n\r\nexport const api_key_movieDB_v4 =\r\n  'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIyYmY5ZjQzZmYwMWY4MDBhNGIyODM4Yjk1ZmNjZTk5ZSIsInN1YiI6IjVjZTkyOWU3YzNhMzY4MWM0ZTFlODRkNiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.fffZy6W_ZCD20rApqm9asph-hWYo_w8zjvPNLyZf-wY'\r\n\r\nexport const fetchApi = (url, options = {}) => {\r\n  return new Promise((resolve, reject) => {\r\n    fetch(url, options)\r\n      .then((response) => {\r\n        if (response.status < 400) {\r\n          return resolve(response.json())\r\n        } else {\r\n          throw response\r\n        }\r\n      })\r\n      .catch((response) => response.json().then((error) => reject(error)))\r\n  })\r\n}\r\n\r\nexport default class CallApi extends React.Component {\r\n  static get(url, options = {}) {\r\n    const { params } = options\r\n\r\n    const queryStringParams = {\r\n      api_key: api_key_movieDB_v3,\r\n      ...params,\r\n    }\r\n\r\n    return fetchApi(\r\n      `${api_url}${url}?${queryString.stringify(queryStringParams)}`,\r\n      {\r\n        mode: 'cors',\r\n        headers: {\r\n          'Content-type': 'application/json',\r\n        },\r\n      }\r\n    )\r\n  }\r\n  static post(url, options = {}) {\r\n    const { params, body } = options\r\n\r\n    const queryStringParams = {\r\n      api_key: api_key_movieDB_v3,\r\n      ...params,\r\n    }\r\n\r\n    return fetchApi(\r\n      `${api_url}${url}?${queryString.stringify(queryStringParams)}`,\r\n      {\r\n        method: 'POST',\r\n        mode: 'cors',\r\n        headers: {\r\n          'Content-type': 'application/json',\r\n        },\r\n        body: JSON.stringify(body),\r\n      }\r\n    )\r\n  }\r\n  static delete(url, options = {}) {\r\n    const { params, body } = options\r\n\r\n    const queryStringParams = {\r\n      api_key: api_key_movieDB_v3,\r\n      ...params,\r\n    }\r\n\r\n    return fetchApi(\r\n      `${api_url}${url}?${queryString.stringify(queryStringParams)}`,\r\n      {\r\n        method: 'DELETE',\r\n        mode: 'cors',\r\n        headers: {\r\n          'Content-type': 'application/json',\r\n        },\r\n        body: JSON.stringify(body),\r\n      }\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { AppContext } from '../../App.jsx'\r\n\r\nexport default (Component) =>\r\n  class AppContextHOC extends React.Component {\r\n    render() {\r\n      return (\r\n        <AppContext.Consumer>\r\n          {(context) => <Component {...this.props} {...context} />}\r\n        </AppContext.Consumer>\r\n      )\r\n    }\r\n  }\r\n","import React from 'react'\r\nimport CallApi from '../../../utils/apies'\r\nimport classNames from 'classnames'\r\nimport AppContextHOC from '../../HOC/AppContextHOC.jsx'\r\nimport Cookies from 'universal-cookie'\r\n\r\nconst cookies = new Cookies()\r\n\r\nclass AuthenticationForm extends React.Component {\r\n  constructor() {\r\n    super()\r\n\r\n    this.state = {\r\n      username: '',\r\n      password: '',\r\n      repeatPassword: '',\r\n      submitting: false,\r\n      errors: {},\r\n    }\r\n  }\r\n\r\n  getUser = () => {\r\n    this.setState({\r\n      submitting: true,\r\n    })\r\n\r\n    CallApi.get('/authentication/token/new')\r\n      .then((data) => {\r\n        return CallApi.post('/authentication/token/validate_with_login', {\r\n          body: {\r\n            username: this.state.username,\r\n            password: this.state.password,\r\n            request_token: data.request_token,\r\n          },\r\n        })\r\n      })\r\n      .then((data) => {\r\n        return CallApi.post('/authentication/session/new', {\r\n          body: { request_token: data.request_token },\r\n        })\r\n      })\r\n      .then((data) => {\r\n        cookies.set('session_id', data.session_id, {\r\n          path: '/',\r\n          maxAge: 2592000,\r\n        })\r\n        return CallApi.get('/account', {\r\n          params: { session_id: data.session_id },\r\n        })\r\n      })\r\n      .then((user) => {\r\n        this.setState(\r\n          {\r\n            submitting: false,\r\n          },\r\n          () => {\r\n            this.props.updateSessionId(cookies.get('session_id'), user)\r\n          }\r\n        )\r\n      })\r\n      .catch((error) => {\r\n        this.setState((prevState) => ({\r\n          errors: {\r\n            ...prevState.errors,\r\n            base: error.status_message,\r\n          },\r\n          submitting: false,\r\n        }))\r\n      })\r\n  }\r\n\r\n  validateFields = () => {\r\n    const errors = {}\r\n\r\n    if (this.state.username.length < 5) {\r\n      errors.username = 'Укажите логин, минимум 5 значений'\r\n    }\r\n    if (this.state.password.length < 6) {\r\n      errors.password = 'Укажите пароль, минимум 6 зачений'\r\n    }\r\n    if (this.state.password !== this.state.repeatPassword) {\r\n      errors.repeatPassword = 'Пароли не идентичны'\r\n    }\r\n\r\n    return errors\r\n  }\r\n\r\n  onChange = (e) => {\r\n    const { name, value } = e.target\r\n    this.setState((prevState) => ({\r\n      [name]: value,\r\n      errors: {\r\n        ...prevState.errors,\r\n        [name]: null,\r\n        base: null,\r\n      },\r\n    }))\r\n  }\r\n\r\n  handleBlur = (e) => {\r\n    const { name } = e.target\r\n    const errors = this.validateFields()\r\n    const error = errors[name]\r\n\r\n    if (Object.keys(errors).length > 0) {\r\n      this.setState((prevState) => ({\r\n        errors: { ...prevState.errors, [name]: error },\r\n      }))\r\n    }\r\n  }\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault()\r\n\r\n    const errors = this.validateFields()\r\n\r\n    if (Object.keys(errors).length > 0) {\r\n      this.setState({\r\n        errors: { ...errors },\r\n      })\r\n    } else {\r\n      this.getUser()\r\n    }\r\n  }\r\n\r\n  getClassForInpur = (errorName) => {\r\n    return classNames('form-control', {\r\n      invalid: this.state.errors[errorName],\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      username,\r\n      password,\r\n      repeatPassword,\r\n      submitting,\r\n      errors,\r\n    } = this.state\r\n    return (\r\n      <form\r\n        className=\"form-group login-form container pl-4 pr-4\"\r\n        onSubmit={this.onSubmit}\r\n      >\r\n        <div className=\"login-form__title\">Авторизация</div>\r\n        <label htmlFor=\"username\">Логин:</label>\r\n        <input\r\n          className={this.getClassForInpur('username')}\r\n          type=\"text\"\r\n          placeholder=\"Логин\"\r\n          id=\"username\"\r\n          name=\"username\"\r\n          value={username}\r\n          onChange={this.onChange}\r\n          onBlur={this.handleBlur}\r\n        />\r\n        {errors.username && (\r\n          <div className=\"invalid-feedback pl-2\">{errors.username}</div>\r\n        )}\r\n        <label htmlFor=\"password\" className=\"mt-2\">\r\n          Пароль:\r\n        </label>\r\n        <input\r\n          className={this.getClassForInpur('password')}\r\n          type=\"password\"\r\n          placeholder=\"Пароль\"\r\n          id=\"password\"\r\n          name=\"password\"\r\n          value={password}\r\n          onChange={this.onChange}\r\n          onBlur={this.handleBlur}\r\n        />\r\n        {errors.password && (\r\n          <div className=\"invalid-feedback pl-2\">{errors.password}</div>\r\n        )}\r\n        <label htmlFor=\"repeatPassword\" className=\"mt-2\">\r\n          Повторите пароль:\r\n        </label>\r\n        <input\r\n          className={this.getClassForInpur('repeatPassword')}\r\n          type=\"password\"\r\n          placeholder=\"Пароль\"\r\n          id=\"repeatPassword\"\r\n          name=\"repeatPassword\"\r\n          value={repeatPassword}\r\n          onChange={this.onChange}\r\n          onBlur={this.handleBlur}\r\n        />\r\n        {errors.repeatPassword && (\r\n          <div className=\"invalid-feedback pl-2\">{errors.repeatPassword}</div>\r\n        )}\r\n        <button\r\n          type=\"submit\"\r\n          className=\"btn btn-success text-center col-12 mt-4 pb-2\"\r\n          disabled={submitting}\r\n        >\r\n          Отправить\r\n        </button>\r\n        <div className=\"invalid-feedback pl-2 mt-2 text-center\">\r\n          {errors.base}\r\n        </div>\r\n      </form>\r\n    )\r\n  }\r\n}\r\n\r\nexport default AppContextHOC(AuthenticationForm)\r\n","import React from 'react'\r\nimport { Modal, ModalBody } from 'reactstrap'\r\nimport AuthenticationForm from './AuthenticationForm.jsx'\r\n\r\nexport default class Authentication extends React.Component {\r\n  constructor() {\r\n    super()\r\n\r\n    this.state = {\r\n      showModal: false,\r\n    }\r\n  }\r\n\r\n  toggleModal = () => {\r\n    this.setState((prevState) => ({\r\n      showModal: !prevState.showModal,\r\n    }))\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <button\r\n          className=\"btn btn-outline-warning\"\r\n          type=\"button\"\r\n          onClick={this.toggleModal}\r\n        >\r\n          Войти\r\n        </button>\r\n        <Modal isOpen={this.state.showModal} toggle={this.toggleModal}>\r\n          <ModalBody>\r\n            <AuthenticationForm />\r\n          </ModalBody>\r\n        </Modal>\r\n      </>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\n\r\nexport default class UIDropdown extends React.Component {\r\n  static defaultProps = {\r\n    position: {\r\n      top: 'auto',\r\n      right: 'auto',\r\n      bottom: 'auto',\r\n      left: 'auto',\r\n    },\r\n  }\r\n\r\n  constructor() {\r\n    super()\r\n\r\n    this.state = {\r\n      show: false,\r\n    }\r\n  }\r\n\r\n  toggleShow = () => {\r\n    this.setState((prevState) => ({\r\n      show: !prevState.show,\r\n    }))\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.props.render(this.toggleShow)}\r\n        <div className=\"dropdown__wrapper\">\r\n          {this.state.show && (\r\n            <div\r\n              className=\"dropdown__popover\"\r\n              style={{ ...this.props.position }}\r\n            >\r\n              <div className=\"dropdown__cover\" onClick={this.toggleShow}></div>\r\n              <div className=\"dropdown__wrapper-content\">\r\n                {this.props.children(this.toggleShow)}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport AppContextHOC from '../HOC/AppContextHOC.jsx'\r\nimport UIDropdown from '../UI Components/UIDropdown.jsx'\r\nimport CallApi from '../../utils/apies'\r\n\r\nclass User extends React.Component {\r\n  handleLogOut = () => {\r\n    CallApi.delete('/authentication/session', {\r\n      body: { session_id: this.props.session_id },\r\n    }).then(() => {\r\n      this.props.onLogOut()\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { user } = this.props\r\n\r\n    return (\r\n      <div className=\"user\">\r\n        <div className=\"dropdown\">\r\n          <UIDropdown\r\n            render={(toggleShow) => (\r\n              <img\r\n                className=\"user-img rounded-circle\"\r\n                src={`https://image.tmdb.org/t/p/w500${user.avatar.tmdb.avatar_path}`}\r\n                alt=\"\"\r\n                onClick={toggleShow}\r\n              />\r\n            )}\r\n            position={{ right: '2.5px', top: '50px' }}\r\n          >\r\n            {() => {\r\n              return (\r\n                <div className=\"dropdown__menu\">\r\n                  <div\r\n                    className=\"dropdown__menu-item\"\r\n                    onClick={this.handleLogOut}\r\n                  >\r\n                    Выйти\r\n                  </div>\r\n                </div>\r\n              )\r\n            }}\r\n          </UIDropdown>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default AppContextHOC(User)\r\n","import React from 'react'\r\nimport Authentication from './Authentication/Authentication.jsx'\r\nimport User from './User.jsx'\r\n\r\nclass Header extends React.Component {\r\n  render() {\r\n    const { user } = this.props\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"pt-3 pb-3 row col-12\">\r\n          <div className=\"title col-2\">\r\n            <p className=\"title__name\">\r\n              Kino<span className=\"title__sub-name\">poisk</span>\r\n            </p>\r\n          </div>\r\n          <div className=\"search col-8\"></div>\r\n          <div className=\"login col-2\">\r\n            {user ? <User /> : <Authentication />}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Header\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nexport default class SortBy extends React.PureComponent {\r\n  static propTypes = {\r\n    sort_by: PropTypes.string.isRequired,\r\n    onChangeFilters: PropTypes.func.isRequired,\r\n  }\r\n\r\n  static defaultProps = {\r\n    sortByOptions: [\r\n      {\r\n        label: 'Популярные (убывание)',\r\n        value: 'popularity.desc',\r\n      },\r\n      {\r\n        label: 'Популярные (возростание)',\r\n        value: 'popularity.asc',\r\n      },\r\n      {\r\n        label: 'Рейтинг (убывание)',\r\n        value: 'vote_average.desc',\r\n      },\r\n      {\r\n        label: 'Рейтинг (возростание)',\r\n        value: 'vote_average.asc',\r\n      },\r\n    ],\r\n  }\r\n\r\n  render() {\r\n    const { sort_by, onChangeFilters, sortByOptions } = this.props\r\n\r\n    return (\r\n      <select\r\n        className=\"form-control\"\r\n        name=\"sort_by\"\r\n        id=\"sort_by\"\r\n        value={sort_by}\r\n        onChange={onChangeFilters}\r\n      >\r\n        {sortByOptions.map((option) => (\r\n          <option key={option.value} value={option.value}>\r\n            {option.label}\r\n          </option>\r\n        ))}\r\n      </select>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\n\r\nexport default class Pagination extends React.Component {\r\n  render() {\r\n    const { onChangePage, page, total_pages } = this.props\r\n    return (\r\n      <div className=\"pagination form-group row col-12\">\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn btn-light col-4\"\r\n          onClick={onChangePage.bind(null, page - 1)}\r\n          disabled={page === 1}\r\n        >\r\n          Назад\r\n        </button>\r\n        <div className=\"col-4 total-pages\">{`${page} из ${total_pages}`}</div>\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn btn-light col-4\"\r\n          onClick={onChangePage.bind(null, page + 1)}\r\n          disabled={page === Number(total_pages)}\r\n        >\r\n          Вперед\r\n        </button>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { primary_release_year } from '../../data/primary_release_year'\r\n\r\nexport default class PrimaryReleaseYear extends React.Component {\r\n  static defaultProps = {\r\n    primary_release_year_options: [...primary_release_year],\r\n  }\r\n  render() {\r\n    const {\r\n      primary_release_year_options,\r\n      primary_release_year,\r\n      onChangeFilters,\r\n    } = this.props\r\n\r\n    return (\r\n      <>\r\n        <label\r\n          className=\"filters-label primary-release-year\"\r\n          htmlFor=\"primary_release_year\"\r\n        >\r\n          Дата выхода\r\n        </label>\r\n        <select\r\n          className=\"form-control\"\r\n          name=\"primary_release_year\"\r\n          id=\"primary_release_year\"\r\n          value={primary_release_year}\r\n          onChange={onChangeFilters}\r\n        >\r\n          {primary_release_year_options.map((option) => (\r\n            <option key={option.value} value={option.value}>\r\n              {option.label}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </>\r\n    )\r\n  }\r\n}\r\n","export const primary_release_year = [\r\n  {\r\n    label: '1950',\r\n    value: '1950',\r\n  },\r\n  {\r\n    label: '1951',\r\n    value: '1951',\r\n  },\r\n  {\r\n    label: '1952',\r\n    value: '1952',\r\n  },\r\n  {\r\n    label: '1953',\r\n    value: '1953',\r\n  },\r\n  {\r\n    label: '1954',\r\n    value: '1954',\r\n  },\r\n  {\r\n    label: '1955',\r\n    value: '1955',\r\n  },\r\n  {\r\n    label: '1956',\r\n    value: '1956',\r\n  },\r\n  {\r\n    label: '1957',\r\n    value: '1957',\r\n  },\r\n  {\r\n    label: '1958',\r\n    value: '1958',\r\n  },\r\n  {\r\n    label: '1959',\r\n    value: '1959',\r\n  },\r\n  {\r\n    label: '1960',\r\n    value: '1960',\r\n  },\r\n\r\n  {\r\n    label: '1961',\r\n    value: '1961',\r\n  },\r\n  {\r\n    label: '1962',\r\n    value: '1962',\r\n  },\r\n  {\r\n    label: '1963',\r\n    value: '1963',\r\n  },\r\n  {\r\n    label: '1964',\r\n    value: '1964',\r\n  },\r\n  {\r\n    label: '1965',\r\n    value: '1965',\r\n  },\r\n  {\r\n    label: '1966',\r\n    value: '1966',\r\n  },\r\n  {\r\n    label: '1967',\r\n    value: '1967',\r\n  },\r\n  {\r\n    label: '1968',\r\n    value: '1968',\r\n  },\r\n  {\r\n    label: '1969',\r\n    value: '1969',\r\n  },\r\n  {\r\n    label: '1970',\r\n    value: '1970',\r\n  },\r\n\r\n  {\r\n    label: '1971',\r\n    value: '1971',\r\n  },\r\n  {\r\n    label: '1972',\r\n    value: '1972',\r\n  },\r\n  {\r\n    label: '1973',\r\n    value: '1973',\r\n  },\r\n  {\r\n    label: '1974',\r\n    value: '1974',\r\n  },\r\n  {\r\n    label: '1975',\r\n    value: '1975',\r\n  },\r\n  {\r\n    label: '1976',\r\n    value: '1976',\r\n  },\r\n  {\r\n    label: '1977',\r\n    value: '1977',\r\n  },\r\n  {\r\n    label: '1978',\r\n    value: '1978',\r\n  },\r\n  {\r\n    label: '1979',\r\n    value: '1979',\r\n  },\r\n  {\r\n    label: '1980',\r\n    value: '1980',\r\n  },\r\n\r\n  {\r\n    label: '1981',\r\n    value: '1981',\r\n  },\r\n  {\r\n    label: '1982',\r\n    value: '1982',\r\n  },\r\n  {\r\n    label: '1983',\r\n    value: '1983',\r\n  },\r\n  {\r\n    label: '1984',\r\n    value: '1984',\r\n  },\r\n  {\r\n    label: '1985',\r\n    value: '1985',\r\n  },\r\n  {\r\n    label: '1986',\r\n    value: '1986',\r\n  },\r\n  {\r\n    label: '1987',\r\n    value: '1987',\r\n  },\r\n  {\r\n    label: '1988',\r\n    value: '1988',\r\n  },\r\n  {\r\n    label: '1989',\r\n    value: '1989',\r\n  },\r\n  {\r\n    label: '1990',\r\n    value: '1990',\r\n  },\r\n\r\n  {\r\n    label: '1991',\r\n    value: '1991',\r\n  },\r\n  {\r\n    label: '1992',\r\n    value: '1992',\r\n  },\r\n  {\r\n    label: '1993',\r\n    value: '1993',\r\n  },\r\n  {\r\n    label: '1994',\r\n    value: '1994',\r\n  },\r\n  {\r\n    label: '1995',\r\n    value: '1995',\r\n  },\r\n  {\r\n    label: '1996',\r\n    value: '1996',\r\n  },\r\n  {\r\n    label: '1997',\r\n    value: '1997',\r\n  },\r\n  {\r\n    label: '1998',\r\n    value: '1998',\r\n  },\r\n  {\r\n    label: '1999',\r\n    value: '1999',\r\n  },\r\n  {\r\n    label: '2000',\r\n    value: '2000',\r\n  },\r\n\r\n  {\r\n    label: '2001',\r\n    value: '2001',\r\n  },\r\n  {\r\n    label: '2002',\r\n    value: '2002',\r\n  },\r\n  {\r\n    label: '2003',\r\n    value: '2003',\r\n  },\r\n  {\r\n    label: '2004',\r\n    value: '2004',\r\n  },\r\n  {\r\n    label: '2005',\r\n    value: '2005',\r\n  },\r\n  {\r\n    label: '2006',\r\n    value: '2006',\r\n  },\r\n  {\r\n    label: '2007',\r\n    value: '2007',\r\n  },\r\n  {\r\n    label: '2008',\r\n    value: '2008',\r\n  },\r\n  {\r\n    label: '2009',\r\n    value: '2009',\r\n  },\r\n  {\r\n    label: '2010',\r\n    value: '2010',\r\n  },\r\n\r\n  {\r\n    label: '2011',\r\n    value: '2011',\r\n  },\r\n  {\r\n    label: '2012',\r\n    value: '2012',\r\n  },\r\n  {\r\n    label: '2013',\r\n    value: '2013',\r\n  },\r\n  {\r\n    label: '2014',\r\n    value: '2014',\r\n  },\r\n  {\r\n    label: '2015',\r\n    value: '2015',\r\n  },\r\n  {\r\n    label: '2016',\r\n    value: '2016',\r\n  },\r\n  {\r\n    label: '2017',\r\n    value: '2017',\r\n  },\r\n  {\r\n    label: '2018',\r\n    value: '2018',\r\n  },\r\n  {\r\n    label: '2019',\r\n    value: '2019',\r\n  },\r\n  {\r\n    label: '2020',\r\n    value: '2020',\r\n  },\r\n\r\n  {\r\n    label: '2021',\r\n    value: '2021',\r\n  },\r\n  {\r\n    label: '2022',\r\n    value: '2022',\r\n  },\r\n  {\r\n    label: '2023',\r\n    value: '2023',\r\n  },\r\n  {\r\n    label: '2024',\r\n    value: '2024',\r\n  },\r\n  {\r\n    label: '2025',\r\n    value: '2025',\r\n  },\r\n]\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst Genres = (props) => {\r\n  const { with_genres, allGenres, onChangeGenres } = props\r\n  return (\r\n    <>\r\n      <label className=\"filters-label genre-label\" htmlFor=\"with_genres\">\r\n        Жанры\r\n      </label>\r\n      <div className=\"genres\" id=\"with_genres\">\r\n        {allGenres.map((item) => {\r\n          return (\r\n            <div className=\"genres__item\" key={item.id}>\r\n              <input\r\n                type=\"checkbox\"\r\n                value={item.id}\r\n                checked={\r\n                  with_genres.indexOf(String(item.id)) === -1 ? false : true\r\n                }\r\n                className=\"genres__item__checkbox\"\r\n                name=\"with_genres\"\r\n                id={item.id}\r\n                onChange={onChangeGenres}\r\n              />\r\n              <label className=\"genres__item__label\" htmlFor={item.id}>\r\n                {item.name}\r\n              </label>\r\n            </div>\r\n          )\r\n        })}\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nGenres.defaultProps = {\r\n  allGenres: [],\r\n}\r\n\r\nGenres.propTypes = {\r\n  allGenres: PropTypes.array.isRequired,\r\n  onChangeGenres: PropTypes.func.isRequired,\r\n  with_genres: PropTypes.array.isRequired,\r\n}\r\n\r\nexport default Genres\r\n","import React from 'react'\r\nimport Genres from './Genres'\r\nimport { api_key_movieDB_v3 } from '../../../utils/apies'\r\n\r\nexport default class GenresContainer extends React.PureComponent {\r\n  constructor() {\r\n    super()\r\n    this.state = {\r\n      allGenres: [],\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const link = `https://api.themoviedb.org/3/genre/movie/list?api_key=${api_key_movieDB_v3}&language=ru-RU`\r\n    return fetch(link)\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        this.setState({ allGenres: data.genres })\r\n      })\r\n  }\r\n\r\n  onChangeGenres = (e) => {\r\n    const { name, value } = e.target\r\n    const { onChangeFilters, with_genres } = this.props\r\n\r\n    if (with_genres.indexOf(String(value)) === -1) {\r\n      onChangeFilters({\r\n        target: { name, value: [...with_genres, value] },\r\n      })\r\n    } else {\r\n      onChangeFilters({\r\n        target: { name, value: with_genres.filter((item) => item !== value) },\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Genres\r\n        with_genres={this.props.with_genres}\r\n        allGenres={this.state.allGenres}\r\n        onChangeGenres={this.onChangeGenres}\r\n      />\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport SortBy from './SortBy.jsx'\r\nimport Pagination from './Pagination.jsx'\r\nimport PrimaryReleaseYear from './PrimaryReleaseYear.jsx'\r\nimport Genres from './Genres/GenresContainer.jsx'\r\n\r\nclass Filters extends React.Component {\r\n  render() {\r\n    const {\r\n      filters,\r\n      onChangeFilters,\r\n      page,\r\n      onChangePage,\r\n      total_pages,\r\n      resetFilters,\r\n    } = this.props\r\n\r\n    return (\r\n      <>\r\n        <form className=\"mb-3\">\r\n          <div className=\"sort form-group\">\r\n            <label className=\"filters-label\" htmlFor=\"sort_by\">\r\n              Сортировать\r\n            </label>\r\n            <SortBy\r\n              sort_by={filters.sort_by}\r\n              onChangeFilters={onChangeFilters}\r\n            />\r\n          </div>\r\n          <Pagination\r\n            total_pages={total_pages}\r\n            onChangePage={onChangePage}\r\n            page={page}\r\n          />\r\n          <div className=\"sort form-group mt-3\">\r\n            <label className=\"filters-label\" htmlFor=\"sort_by\">\r\n              Фильтровать\r\n            </label>\r\n            <PrimaryReleaseYear\r\n              primary_release_year={filters.primary_release_year}\r\n              onChangeFilters={onChangeFilters}\r\n            />\r\n            <Genres\r\n              with_genres={filters.with_genres}\r\n              onChangeFilters={onChangeFilters}\r\n            />\r\n            <button\r\n              onClick={resetFilters}\r\n              className=\"btn btn-light col-12 mt-2\"\r\n              type=\"button\"\r\n              style={{ background: '#e2e6ea' }}\r\n            >\r\n              Сбросить фильтры\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Filters\r\n","export const months = [\r\n  {\r\n    month: '01',\r\n    shortName: 'янв',\r\n    fullName: 'январь',\r\n  },\r\n  {\r\n    month: '02',\r\n    shortName: 'фев',\r\n    fullName: 'февраль',\r\n  },\r\n  {\r\n    month: '03',\r\n    shortName: 'мар',\r\n    fullName: 'март',\r\n  },\r\n  {\r\n    month: '04',\r\n    shortName: 'апр',\r\n    fullName: 'апрель',\r\n  },\r\n  {\r\n    month: '05',\r\n    shortName: 'май',\r\n    fullName: 'май',\r\n  },\r\n  {\r\n    month: '06',\r\n    shortName: 'июн',\r\n    fullName: 'июнь',\r\n  },\r\n  {\r\n    month: '07',\r\n    shortName: 'июл',\r\n    fullName: 'июль',\r\n  },\r\n  {\r\n    month: '08',\r\n    shortName: 'авг',\r\n    fullName: 'август',\r\n  },\r\n  {\r\n    month: '09',\r\n    shortName: 'сен',\r\n    fullName: 'сентябрь',\r\n  },\r\n  {\r\n    month: '10',\r\n    shortName: 'окт',\r\n    fullName: 'октябрь',\r\n  },\r\n  {\r\n    month: '11',\r\n    shortName: 'ноя',\r\n    fullName: 'ноябрь',\r\n  },\r\n  {\r\n    month: '12',\r\n    shortName: 'дек',\r\n    fullName: 'декабрь',\r\n  },\r\n]\r\n","import React from 'react'\r\nimport { api_img_url } from '../../utils/apies'\r\nimport { months } from '../../data/months'\r\nimport { Link } from 'react-router-dom'\r\nimport {\r\n  Star,\r\n  StarBorder,\r\n  Bookmark,\r\n  BookmarkBorder,\r\n  MoreHoriz,\r\n} from '@material-ui/icons'\r\nimport UIDropdown from '../UI Components/UIDropdown.jsx'\r\n\r\nclass MovieItem extends React.PureComponent {\r\n  constructor() {\r\n    super()\r\n\r\n    this.state = {\r\n      favourite: false,\r\n      willWatch: false,\r\n    }\r\n  }\r\n  getMonthNameOnMonthNumber = () => {\r\n    const { movie } = this.props\r\n\r\n    return months.filter((month) => {\r\n      return month.month === movie.release_date.substr(5, 2)\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { movie } = this.props\r\n\r\n    const releaseDate = `${movie.release_date.substr(8, 2)} ${\r\n      this.getMonthNameOnMonthNumber()[0].shortName\r\n    } ${movie.release_date.substr(0, 4)}`\r\n    return (\r\n      <div className=\"movie-card\">\r\n        <Link to={`/kinopoisk/movie/${movie.id}`}>\r\n          <img\r\n            className=\"movie-card__img\"\r\n            src={\r\n              movie.poster_path\r\n                ? `${api_img_url}${movie.poster_path}`\r\n                : `not-foundPoster.png`\r\n            }\r\n            alt=\"\"\r\n          />\r\n        </Link>\r\n        <div className=\"movie-card__desc\">\r\n          <p className=\"movie-card__desc__title\">\r\n            <Link to={`/kinopoisk/movie/${movie.id}`}>{movie.title}</Link>\r\n          </p>\r\n          <p className=\"movie-card__desc__release-date\">{releaseDate}</p>\r\n        </div>\r\n        <div className=\"movie-settings\">\r\n          <UIDropdown\r\n            render={(toggleShow) => (\r\n              <div className=\"more-horiz\" onClick={toggleShow}>\r\n                <MoreHoriz className=\"more-horiz__icon\" />\r\n              </div>\r\n            )}\r\n            position={{ top: '30px', left: '-180px' }}\r\n          >\r\n            {(toggleShow) => (\r\n              <div className=\"settings-menu\">\r\n                <div\r\n                  className=\"favourite-movie settings-menuItem\"\r\n                  onClick={toggleShow}\r\n                >\r\n                  {this.state.favourite ? <Star /> : <StarBorder />}\r\n                  <span className=\"settings-title\">Избранное</span>\r\n                </div>\r\n                <div\r\n                  className=\"willWatch-movie settings-menuItem\"\r\n                  onClick={toggleShow}\r\n                >\r\n                  {this.state.willWatch ? <Bookmark /> : <BookmarkBorder />}\r\n                  <span className=\"settings-title\">Посмотреть</span>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </UIDropdown>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default MovieItem\r\n","import React from 'react'\r\nimport MovieItem from './MovieItem.jsx'\r\nimport MoviesHOC from './MoviesHOC.jsx'\r\nimport PropTypes from 'prop-types'\r\n\r\nclass MoviesList extends React.PureComponent {\r\n  static defaultProps = {\r\n    movies: [],\r\n  }\r\n\r\n  static propTypes = {\r\n    movies: PropTypes.array.isRequired,\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.props.movies.map((movie) => {\r\n          return (\r\n            <MovieItem\r\n              account_id={this.props.account_id}\r\n              session_id={this.props.session_id}\r\n              movie={movie}\r\n              favouriteMovies={this.props.favouriteMovies}\r\n              watchList={this.props.watchList}\r\n              key={movie.id}\r\n            />\r\n          )\r\n        })}\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default MoviesHOC(MoviesList)\r\n","import React from 'react'\r\nimport CallApi from '../../utils/apies'\r\nimport _ from 'lodash'\r\n\r\nexport default (Component) =>\r\n  class MoviesHOC extends React.PureComponent {\r\n    constructor() {\r\n      super()\r\n\r\n      this.state = {\r\n        movies: [],\r\n        favouriteMovies: [],\r\n        watchList: [],\r\n        firstRender: true,\r\n      }\r\n    }\r\n\r\n    componentDidMount() {\r\n      const { filters, page } = this.props\r\n      this.getMovies(filters, page)\r\n    }\r\n\r\n    componentDidUpdate(p) {\r\n      const { onChangePage, filters, page, account_id, session_id } = this.props\r\n      const { firstRender } = this.state\r\n\r\n      if (!_.isEqual(p.filters, filters)) {\r\n        onChangePage(1)\r\n        this.getMovies(filters)\r\n        if (account_id && session_id) {\r\n          this.getSettingsMovies('favouriteMovies', '/favorite/movies')\r\n          this.getSettingsMovies('watchList', '/watchlist/movies')\r\n        } else {\r\n          this.setState({\r\n            favouriteMovies: [],\r\n            watchList: [],\r\n          })\r\n        }\r\n      }\r\n\r\n      if (p.page !== page) {\r\n        this.getMovies(filters, page)\r\n        if (account_id && session_id) {\r\n          this.getSettingsMovies('favouriteMovies', '/favorite/movies')\r\n          this.getSettingsMovies('watchList', '/watchlist/movies')\r\n        } else {\r\n          this.setState({\r\n            favouriteMovies: [],\r\n            watchList: [],\r\n          })\r\n        }\r\n      }\r\n\r\n      if (firstRender && account_id && session_id) {\r\n        this.getSettingsMovies('favouriteMovies', '/favorite/movies')\r\n        this.getSettingsMovies('watchList', '/watchlist/movies')\r\n        this.setState({\r\n          firstRender: false,\r\n        })\r\n      }\r\n    }\r\n\r\n    getSettingsMovies = (nameState, url) => {\r\n      const { session_id, account_id, page } = this.props\r\n      const apiParams = {\r\n        language: 'ru-RU',\r\n        session_id,\r\n        page,\r\n      }\r\n\r\n      return CallApi.get(`/account/${account_id}${url}`, {\r\n        params: apiParams,\r\n      }).then((data) => {\r\n        this.setState({\r\n          [nameState]: data.results,\r\n        })\r\n      })\r\n    }\r\n\r\n    getMovies = (filters, page = 1) => {\r\n      const { sort_by, primary_release_year, with_genres } = filters\r\n      const { onChangeTotalPages } = this.props\r\n\r\n      const apiParams = {\r\n        language: 'ru-RU',\r\n        sort_by,\r\n        page,\r\n        primary_release_year,\r\n        with_genres: with_genres.join(','),\r\n      }\r\n\r\n      return CallApi.get('/discover/movie', { params: apiParams }).then(\r\n        (data) => {\r\n          onChangeTotalPages(data.total_pages)\r\n          this.setState({ movies: data.results })\r\n        }\r\n      )\r\n    }\r\n\r\n    render() {\r\n      const { movies, favouriteMovies, watchList } = this.state\r\n      return (\r\n        <Component\r\n          account_id={this.props.account_id}\r\n          session_id={this.props.session_id}\r\n          movies={movies}\r\n          favouriteMovies={favouriteMovies}\r\n          watchList={watchList}\r\n        />\r\n      )\r\n    }\r\n  }\r\n","import React from 'react'\r\nimport Filters from '../../Filters/Filters.jsx'\r\nimport MoviesList from '../../Movies/MoviesList.jsx'\r\n\r\nexport default class MoviesPage extends React.Component {\r\n  constructor() {\r\n    super()\r\n\r\n    this.initialState = {\r\n      filters: {\r\n        sort_by: 'popularity.desc',\r\n        primary_release_year: new Date().getFullYear(),\r\n        with_genres: [],\r\n      },\r\n      page: 1,\r\n      total_pages: '',\r\n    }\r\n\r\n    this.state = { ...this.initialState }\r\n  }\r\n\r\n  onChangeFilters = (e) => {\r\n    const { name, value } = e.target\r\n\r\n    this.setState((s) => ({\r\n      filters: {\r\n        ...s.filters,\r\n        [name]: value,\r\n      },\r\n    }))\r\n  }\r\n\r\n  onChangePage = (page) => {\r\n    this.setState({\r\n      page,\r\n    })\r\n  }\r\n\r\n  onChangeTotalPages = (total_pages) => {\r\n    this.setState({\r\n      total_pages,\r\n    })\r\n  }\r\n\r\n  resetFilters = () => {\r\n    this.setState(this.initialState)\r\n  }\r\n\r\n  render() {\r\n    const { filters, page, total_pages } = this.state\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"filters col-3\">\r\n          <Filters\r\n            onChangeFilters={this.onChangeFilters}\r\n            filters={filters}\r\n            page={page}\r\n            onChangePage={this.onChangePage}\r\n            total_pages={total_pages}\r\n            resetFilters={this.resetFilters}\r\n          />\r\n        </div>\r\n        <div className=\"movies col-9\">\r\n          <MoviesList\r\n            filters={filters}\r\n            page={page}\r\n            onChangePage={this.onChangePage}\r\n            onChangeTotalPages={this.onChangeTotalPages}\r\n          />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport CallApi from '../../../utils/apies'\r\n\r\nexport default class MoviePage extends React.Component {\r\n  constructor() {\r\n    super()\r\n\r\n    this.state = {\r\n      movie: {},\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    CallApi.get(`/movie/${this.props.match.params.id}`, {\r\n      params: {\r\n        language: 'ru-RU',\r\n      },\r\n    }).then((data) => this.setState({ movie: data }))\r\n  }\r\n  render() {\r\n    const { movie } = this.state\r\n\r\n    return <div>{movie.title}</div>\r\n  }\r\n}\r\n","export const actionCreatorUpdateAuth = (payload) => {\r\n  return {\r\n    type: 'UPDATE_AUTH',\r\n    payload,\r\n  }\r\n}\r\n\r\nexport const actionCreatorLogOut = () => {\r\n  return {\r\n    type: 'LOGOUT',\r\n  }\r\n}\r\n","import React from 'react'\r\nimport './App.css'\r\nimport Header from './components/Header/Header.jsx'\r\nimport { BrowserRouter, Route } from 'react-router-dom'\r\nimport CallApi from './utils/apies'\r\nimport Cookies from 'universal-cookie'\r\nimport MoviesPage from './components/pages/MoviesPage/MoviesPage.jsx'\r\nimport MoviePage from './components/pages/MoviePage/MoviePage.jsx'\r\nimport {\r\n  actionCreatorUpdateAuth,\r\n  actionCreatorLogOut,\r\n} from './store/actionCreators/actionCreators'\r\n\r\nconst cookies = new Cookies()\r\n\r\nexport const AppContext = React.createContext()\r\n\r\nexport default class App extends React.Component {\r\n  componentDidMount() {\r\n    this.props.store.subscribe(() => {\r\n      console.log(this.props.store.getState())\r\n      this.forceUpdate()\r\n    })\r\n    const session_id = cookies.get('session_id')\r\n    if (session_id) {\r\n      CallApi.get('/account', { params: { session_id } }).then((data) => {\r\n        this.updateSessionId(session_id, data)\r\n      })\r\n    }\r\n  }\r\n\r\n  onChangeFilters = (e) => {\r\n    const { name, value } = e.target\r\n\r\n    this.setState((s) => ({\r\n      filters: {\r\n        ...s.filters,\r\n        [name]: value,\r\n      },\r\n    }))\r\n  }\r\n\r\n  updateSessionId = (session_id, user) => {\r\n    this.props.store.dispatch(\r\n      actionCreatorUpdateAuth({\r\n        session_id,\r\n        user,\r\n      })\r\n    )\r\n  }\r\n\r\n  onLogOut = () => {\r\n    this.props.store.dispatch(actionCreatorLogOut())\r\n  }\r\n\r\n  onChangePage = (page) => {\r\n    this.setState({\r\n      page,\r\n    })\r\n  }\r\n\r\n  onChangeTotalPages = (total_pages) => {\r\n    this.setState({\r\n      total_pages,\r\n    })\r\n  }\r\n\r\n  resetFilters = () => {\r\n    this.setState(this.initialState)\r\n  }\r\n\r\n  render() {\r\n    const { user, session_id } = this.props.store.getState()\r\n    return (\r\n      <BrowserRouter>\r\n        <AppContext.Provider\r\n          value={{\r\n            user,\r\n            session_id,\r\n            updateSessionId: this.updateSessionId,\r\n            onLogOut: this.onLogOut,\r\n          }}\r\n        >\r\n          <div className=\"header\">\r\n            <Header updateSessionId={this.updateSessionId} user={user} />\r\n          </div>\r\n          <div className=\"main container\">\r\n            <Route exact path=\"/kinopoisk/\" component={MoviesPage} />\r\n            <Route path=\"/kinopoisk/movie/:id\" component={MoviePage} />\r\n          </div>\r\n        </AppContext.Provider>\r\n      </BrowserRouter>\r\n    )\r\n  }\r\n}\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import Cookies from 'universal-cookie'\r\n\r\nconst cookies = new Cookies()\r\n\r\nconst initialState = {\r\n  user: null,\r\n  session_id: cookies.get('session_id'),\r\n  isAuth: false,\r\n}\r\n\r\nconst reducerApp = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case 'UPDATE_AUTH':\r\n      cookies.set('session_id', action.payload.session_id, {\r\n        path: '/',\r\n        maxAge: 2592000,\r\n      })\r\n      return {\r\n        ...state,\r\n        user: action.payload.user,\r\n        session_id: action.payload.session_id,\r\n        isAuth: true,\r\n      }\r\n    case 'LOGOUT':\r\n      cookies.remove('session_id')\r\n      return {\r\n        ...state,\r\n        user: null,\r\n        session_id: null,\r\n        isAuth: false,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default reducerApp\r\n","import { createStore } from 'redux'\r\nimport reducerApp from './reducers/reducers'\r\n\r\nconst store = createStore(reducerApp)\r\n\r\nexport default store\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport App from './App.jsx'\r\nimport * as serviceWorker from './serviceWorker'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport WebFont from 'webfontloader'\r\nimport store from './store/store'\r\n// import {\r\n//   actionCreatorUpdateAuth,\r\n//   actionCreatorLogOut,\r\n// } from './store/actionCreators/actionCreators'\r\n\r\nWebFont.load({\r\n  google: {\r\n    families: ['Open Sans'],\r\n  },\r\n})\r\n\r\n// store.subscribe(() => {\r\n//   console.log(store.getState())\r\n// })\r\n\r\n// store.dispatch(\r\n//   actionCreatorUpdateAuth({\r\n//     user: { name: 'Vadim' },\r\n//     session_id: 12321031,\r\n//   })\r\n// )\r\n\r\n// store.dispatch(actionCreatorLogOut())\r\n\r\nReactDOM.render(<App store={store} />, document.getElementById('kinopoisk'))\r\n\r\nserviceWorker.unregister()\r\n"],"sourceRoot":""}