(this.webpackJsonpkinopoisk=this.webpackJsonpkinopoisk||[]).push([[0],{52:function(e,a,t){e.exports=t(85)},61:function(e,a,t){},62:function(e,a,t){},85:function(e,a,t){"use strict";t.r(a);var n={};t.r(n),t.d(n,"fetchAuth",(function(){return M})),t.d(n,"updateAuth",(function(){return A})),t.d(n,"onLogOut",(function(){return F})),t.d(n,"toggleUserModal",(function(){return S})),t.d(n,"toggleAuthFormModal",(function(){return T}));var r={};t.r(r),t.d(r,"fetchFavouriteMovies",(function(){return U})),t.d(r,"fetchWatchlist",(function(){return P})),t.d(r,"clearFavouriteMoviesAndWatchList",(function(){return R})),t.d(r,"updateFavouriteMovies",(function(){return I})),t.d(r,"updateWatchlist",(function(){return L}));var s=t(0),o=t.n(s),i=t(23),l=t.n(i),c=t(28),u=(t(61),t(4)),m=t(5),d=t(7),v=t(6),p=(t(62),t(14)),h=t(110),b=t(97),_=t(16),g=t(8),f=t(31),E=t.n(f),N="https://api.themoviedb.org/3",O="2bf9f43ff01f800a4b2838b95fcce99e",y=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(t,n){fetch(e,a).then((function(e){if(e.status<400)return t(e.json());throw e})).catch((function(e){return e.json().then((function(e){return n(e)}))}))}))},w=function(e){Object(d.a)(t,e);var a=Object(v.a)(t);function t(){return Object(u.a)(this,t),a.apply(this,arguments)}return Object(m.a)(t,null,[{key:"get",value:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=a.params,n=Object(g.a)({api_key:O},t);return y("".concat(N).concat(e,"?").concat(E.a.stringify(n)),{mode:"cors",headers:{"Content-type":"application/json"}})}},{key:"post",value:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=a.params,n=a.body,r=Object(g.a)({api_key:O},t);return y("".concat(N).concat(e,"?").concat(E.a.stringify(r)),{method:"POST",mode:"cors",headers:{"Content-type":"application/json"},body:JSON.stringify(n)})}},{key:"delete",value:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=a.params,n=a.body,r=Object(g.a)({api_key:O},t);return y("".concat(N).concat(e,"?").concat(E.a.stringify(r)),{method:"DELETE",mode:"cors",headers:{"Content-type":"application/json"},body:JSON.stringify(n)})}}]),t}(o.a.Component),j=t(10),C=t.n(j),k=t(18),M=function(e){return function(a){a({type:"FETCH_REQUEST_AUTH"}),w.get("/account",{params:{session_id:e,language:"ru-RU"}}).then((function(t){a(A({user:t,session_id:e}))})).catch((function(e){a({type:"FETCH_ERROR_AUTH",payload:e})}))}},A=function(e){return{type:"UPDATE_AUTH",payload:{user:e.user,session_id:e.session_id}}},F=function(){return{type:"LOGOUT"}},S=function(e){return{type:"TOGGLE_USER_MODAL",payload:e}},T=function(e){return{type:"TOGGLE_AUTH_FORM_MODAL",payload:e}},U=function(e){var a=e.session_id,t=e.account_id;return function(e){e({type:"FETCH_REQUEST_FAVOURITE_MOVIES"}),w.get("/account/".concat(t,"/favorite/movies"),{params:{session_id:a,language:"ru-RU"}}).then((function(a){e({type:"FETCH_SUCCESS_FAVOURITE_MOVIES",payload:a})})).catch((function(a){e({type:"FETCH_ERROR_FAVOURITE_MOVIES",payload:a})}))}},P=function(e){var a=e.session_id,t=e.account_id;return function(e){e({type:"FETCH_REQUEST_WATCHLIST"}),w.get("/account/".concat(t,"/watchlist/movies"),{params:{session_id:a,language:"ru-RU"}}).then((function(a){e({type:"FETCH_SUCCESS_WATCHLIST",payload:a})})).catch((function(a){e({type:"FETCH_ERROR_WATCHLIST",payload:a})}))}},R=function(){return{type:"CLEAR_FAVOURITE_MOVIES_AND_WATCHLIST"}},I=function(e){var a=e.account_id,t=e.session_id,n=e.media_id;return function(e,r){for(var s=!0,o=0;o<r().movies.favouriteMovies.length;o++)Number(r().movies.favouriteMovies[o].id)===Number(n)&&(s=!1);w.post("/account/".concat(a,"/favorite"),{params:{session_id:t,language:"ru-RU"},body:{media_type:"movie",media_id:n,favorite:s}}).then((function(){return w.get("/account/".concat(a,"/favorite/movies"),{params:{session_id:t,language:"ru-RU"}}).then((function(a){e({type:"UPDATE_SUCCESS_FAVOURITE_MOVIES",payload:a})}))})).catch((function(){e({type:"UPDATE_ERROR_FAVOURITE_MOVIES"})}))}},L=function(e){var a=e.account_id,t=e.session_id,n=e.media_id;return function(e,r){for(var s=!0,o=0;o<r().movies.watchlist.length;o++)Number(r().movies.watchlist[o].id)===Number(n)&&(s=!1);w.post("/account/".concat(a,"/watchlist"),{params:{session_id:t,language:"ru-RU"},body:{media_type:"movie",media_id:n,watchlist:s}}).then((function(){return w.get("/account/".concat(a,"/watchlist/movies"),{params:{session_id:t,language:"ru-RU"}}).then((function(a){e({type:"UPDATE_SUCCESS_WATCHLIST",payload:a})}))})).catch((function(){e({type:"UPDATE_ERROR_WATCHLIST"})}))}},W=function(e){return{auth:e.auth,movies:e.movies}},D=function(e){return{authActions:Object(k.bindActionCreators)(n,e),moviesActions:Object(k.bindActionCreators)(r,e)}},H=function(e){return Object(c.b)(W,D)(function(a){Object(d.a)(n,a);var t=Object(v.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){return o.a.createElement(e,this.props)}}]),n}(o.a.Component))},x=t(30),G=new x.a,V=H(function(e){Object(d.a)(t,e);var a=Object(v.a)(t);function t(){var e;return Object(u.a)(this,t),(e=a.call(this)).getUser=function(){var a=e.props,t=a.authActions,n=a.moviesActions;e.setState({submitting:!0}),w.get("/authentication/token/new").then((function(a){return w.post("/authentication/token/validate_with_login",{body:{username:e.state.username,password:e.state.password,request_token:a.request_token}})})).then((function(e){return w.post("/authentication/session/new",{body:{request_token:e.request_token}})})).then((function(e){return G.set("session_id",e.session_id,{path:"/kinopoisk/",maxAge:2592e3}),w.get("/account",{params:{session_id:e.session_id}})})).then((function(a){e.setState({submitting:!1},(function(){t.updateAuth({user:a,session_id:G.get("session_id")}),n.fetchFavouriteMovies({session_id:G.get("session_id"),account_id:a.id}),n.fetchWatchlist({session_id:G.get("session_id"),account_id:a.id})}))})).catch((function(a){e.setState((function(e){return{errors:Object(g.a)(Object(g.a)({},e.errors),{},{base:a.status_message}),submitting:!1}}))}))},e.validateFields=function(){var a={};return e.state.username.length<5&&(a.username="\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d, \u043c\u0438\u043d\u0438\u043c\u0443\u043c 5 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439"),e.state.password.length<6&&(a.password="\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c, \u043c\u0438\u043d\u0438\u043c\u0443\u043c 6 \u0437\u0430\u0447\u0435\u043d\u0438\u0439"),e.state.password!==e.state.repeatPassword&&(a.repeatPassword="\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0438\u0434\u0435\u043d\u0442\u0438\u0447\u043d\u044b"),a},e.onChange=function(a){var t=a.target,n=t.name,r=t.value;e.setState((function(e){var a,t;return t={},Object(_.a)(t,n,r),Object(_.a)(t,"errors",Object(g.a)(Object(g.a)({},e.errors),{},(a={},Object(_.a)(a,n,null),Object(_.a)(a,"base",null),a))),t}))},e.handleBlur=function(a){var t=a.target.name,n=e.validateFields(),r=n[t];Object.keys(n).length>0&&e.setState((function(e){return{errors:Object(g.a)(Object(g.a)({},e.errors),{},Object(_.a)({},t,r))}}))},e.onSubmit=function(a){a.preventDefault();var t=e.validateFields();Object.keys(t).length>0?e.setState({errors:Object(g.a)({},t)}):e.getUser()},e.getClassForInpur=function(a){return C()("form-control",{invalid:e.state.errors[a]})},e.state={username:"user_kinopoisk",password:"user_1234",repeatPassword:"user_1234",submitting:!1,errors:{}},e}return Object(m.a)(t,[{key:"render",value:function(){var e=this.state,a=e.username,t=e.password,n=e.repeatPassword,r=e.submitting,s=e.errors;return o.a.createElement("form",{className:"form-group login-form container pl-4 pr-4",onSubmit:this.onSubmit},o.a.createElement("div",{className:"login-form__title"},"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"),o.a.createElement("label",{htmlFor:"username"},"\u041b\u043e\u0433\u0438\u043d:"),o.a.createElement("input",{className:this.getClassForInpur("username"),type:"text",placeholder:"\u041b\u043e\u0433\u0438\u043d",id:"username",name:"username",value:a,onChange:this.onChange,onBlur:this.handleBlur}),s.username&&o.a.createElement("div",{className:"invalid-feedback pl-2"},s.username),o.a.createElement("label",{htmlFor:"password",className:"mt-2"},"\u041f\u0430\u0440\u043e\u043b\u044c:"),o.a.createElement("input",{className:this.getClassForInpur("password"),type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",id:"password",name:"password",value:t,onChange:this.onChange,onBlur:this.handleBlur}),s.password&&o.a.createElement("div",{className:"invalid-feedback pl-2"},s.password),o.a.createElement("label",{htmlFor:"repeatPassword",className:"mt-2"},"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c:"),o.a.createElement("input",{className:this.getClassForInpur("repeatPassword"),type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",id:"repeatPassword",name:"repeatPassword",value:n,onChange:this.onChange,onBlur:this.handleBlur}),s.repeatPassword&&o.a.createElement("div",{className:"invalid-feedback pl-2"},s.repeatPassword),o.a.createElement("button",{type:"submit",className:"btn btn-success text-center col-12 mt-4 pb-2",disabled:r},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"),o.a.createElement("div",{className:"invalid-feedback pl-2 mt-2 text-center"},s.base))}}]),t}(o.a.Component)),B=function(e){Object(d.a)(t,e);var a=Object(v.a)(t);function t(){var e;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=a.call.apply(a,[this].concat(r))).toggleModal=function(){var a=e.props,t=a.showAuthFormModal;(0,a.toggleAuthFormModal)(!t)},e}return Object(m.a)(t,[{key:"render",value:function(){var e=this.props.showAuthFormModal;return o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{className:"btn btn-outline-warning",type:"button",onClick:this.toggleModal},"\u0412\u043e\u0439\u0442\u0438"),o.a.createElement("button",{className:"ml-2 btn btn-outline-warning",type:"button"},o.a.createElement("a",{href:"https://www.themoviedb.org/signup",target:"_blank",rel:"noopener noreferrer"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f")),o.a.createElement(h.a,{isOpen:e,toggle:this.toggleModal},o.a.createElement(b.a,null,o.a.createElement(V,null))))}}]),t}(o.a.Component),q=function(e){Object(d.a)(t,e);var a=Object(v.a)(t);function t(){var e;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=a.call.apply(a,[this].concat(r))).toggleShow=function(){var a=e.props,t=a.auth;a.authActions.toggleUserModal(!t.showUserModal)},e}return Object(m.a)(t,[{key:"render",value:function(){var e=this.props.auth;return o.a.createElement(o.a.Fragment,null,this.props.render(this.toggleShow),o.a.createElement("div",{className:"dropdown__wrapper"},e.showUserModal&&o.a.createElement("div",{className:"dropdown__popover",style:Object(g.a)({},this.props.position)},o.a.createElement("div",{className:"dropdown__cover",onClick:this.toggleShow}),o.a.createElement("div",{className:"dropdown__wrapper-content"},this.props.children(this.toggleShow)))))}}]),t}(o.a.Component);q.defaultProps={position:{top:"auto",right:"auto",bottom:"auto",left:"auto"}};var J=H(function(e){Object(d.a)(t,e);var a=Object(v.a)(t);function t(){var e;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=a.call.apply(a,[this].concat(r))).handleLogOut=function(){var a=e.props,t=a.auth,n=a.authActions,r=a.moviesActions;w.delete("/authentication/session",{body:{session_id:t.session_id}}).then((function(){n.onLogOut(),r.clearFavouriteMoviesAndWatchList()}))},e}return Object(m.a)(t,[{key:"render",value:function(){var e=this,a=this.props.auth.user;return o.a.createElement("div",{className:"user"},o.a.createElement("div",{className:"dropdown"},o.a.createElement(q,Object.assign({render:function(e){return o.a.createElement("img",{className:"user-img rounded-circle",src:"https://image.tmdb.org/t/p/w500".concat(a.avatar.tmdb.avatar_path)||!1,alt:"",onClick:e})},position:{right:"2.5px",top:"50px"}},this.props),(function(){return o.a.createElement("div",{className:"dropdown__menu"},o.a.createElement("div",{className:"dropdown__menu-item user-name"},a.name||a.username,o.a.createElement(p.b,{to:"/kinopoisk/profile/".concat(a.id)},o.a.createElement("p",{className:"user-name__sub-title"},"\u0421\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c"))),o.a.createElement("div",{className:"dropdown__menu-item"},o.a.createElement(p.b,{to:"/kinopoisk/",onClick:e.handleLogOut},"\u0412\u044b\u0439\u0442\u0438")))}))))}}]),t}(o.a.Component)),Q=H(function(e){Object(d.a)(t,e);var a=Object(v.a)(t);function t(){return Object(u.a)(this,t),a.apply(this,arguments)}return Object(m.a)(t,[{key:"render",value:function(){var e=this.props,a=e.auth,t=e.authActions;return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"pt-2 pb-2 row col-12"},o.a.createElement("div",{className:"title col-4"},o.a.createElement("p",{className:"title__name"},o.a.createElement(p.b,{to:"/kinopoisk/"},"Kino",o.a.createElement("span",{className:"title__sub-name"},"poisk")),o.a.createElement("span",{className:"ml-2 with-TMDB-Api"},o.a.createElement("a",{href:"https://www.themoviedb.org/",target:"_blank",rel:"noopener noreferrer"},"with TMDB Api")))),o.a.createElement("div",{className:"search col-6"}),o.a.createElement("div",{className:"login col-2"},a.user?o.a.createElement(J,null):o.a.createElement(B,{showAuthFormModal:a.showAuthFormModal,toggleAuthFormModal:t.toggleAuthFormModal}))))}}]),t}(o.a.Component)),z=t(12),K=function(e){Object(d.a)(t,e);var a=Object(v.a)(t);function t(){return Object(u.a)(this,t),a.apply(this,arguments)}return Object(m.a)(t,[{key:"render",value:function(){var e=this.props,a=e.sort_by,t=e.onChangeFilters,n=e.sortByOptions;return o.a.createElement("select",{className:"form-control",name:"sort_by",id:"sort_by",value:a,onChange:t},n.map((function(e){return o.a.createElement("option",{key:e.value,value:e.value},e.label)})))}}]),t}(o.a.PureComponent);K.defaultProps={sortByOptions:[{label:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435 (\u0443\u0431\u044b\u0432\u0430\u043d\u0438\u0435)",value:"popularity.desc"},{label:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435 (\u0432\u043e\u0437\u0440\u043e\u0441\u0442\u0430\u043d\u0438\u0435)",value:"popularity.asc"},{label:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 (\u0443\u0431\u044b\u0432\u0430\u043d\u0438\u0435)",value:"vote_average.desc"},{label:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 (\u0432\u043e\u0437\u0440\u043e\u0441\u0442\u0430\u043d\u0438\u0435)",value:"vote_average.asc"}]};var Y=H(function(e){Object(d.a)(t,e);var a=Object(v.a)(t);function t(){return Object(u.a)(this,t),a.apply(this,arguments)}return Object(m.a)(t,[{key:"render",value:function(){var e=this.props,a=e.onChangePage,t=e.page,n=e.total_pages;return o.a.createElement("div",{className:"pagination form-group row col-12"},o.a.createElement("button",{type:"button",className:"btn btn-light col-4",onClick:a.bind(null,t-1),disabled:1===t},"\u041d\u0430\u0437\u0430\u0434"),o.a.createElement("div",{className:"col-4 total-pages"},"".concat(t," \u0438\u0437 ").concat(n)),o.a.createElement("button",{type:"button",className:"btn btn-light col-4",onClick:a.bind(null,t+1),disabled:t===Number(n)},"\u0412\u043f\u0435\u0440\u0435\u0434"))}}]),t}(o.a.Component)),$=t(29),X=function(e){Object(d.a)(t,e);var a=Object(v.a)(t);function t(){return Object(u.a)(this,t),a.apply(this,arguments)}return Object(m.a)(t,[{key:"render",value:function(){var e=this.props,a=e.primary_release_year_options,t=e.primary_release_year,n=e.onChangeFilters;return o.a.createElement(o.a.Fragment,null,o.a.createElement("label",{className:"filters-label primary-release-year",htmlFor:"primary_release_year"},"\u0414\u0430\u0442\u0430 \u0432\u044b\u0445\u043e\u0434\u0430"),o.a.createElement("select",{className:"form-control",name:"primary_release_year",id:"primary_release_year",value:t,onChange:n},a.map((function(e){return o.a.createElement("option",{key:e.value,value:e.value},e.label)}))))}}]),t}(o.a.Component);X.defaultProps={primary_release_year_options:Object($.a)([{label:"1950",value:"1950"},{label:"1951",value:"1951"},{label:"1952",value:"1952"},{label:"1953",value:"1953"},{label:"1954",value:"1954"},{label:"1955",value:"1955"},{label:"1956",value:"1956"},{label:"1957",value:"1957"},{label:"1958",value:"1958"},{label:"1959",value:"1959"},{label:"1960",value:"1960"},{label:"1961",value:"1961"},{label:"1962",value:"1962"},{label:"1963",value:"1963"},{label:"1964",value:"1964"},{label:"1965",value:"1965"},{label:"1966",value:"1966"},{label:"1967",value:"1967"},{label:"1968",value:"1968"},{label:"1969",value:"1969"},{label:"1970",value:"1970"},{label:"1971",value:"1971"},{label:"1972",value:"1972"},{label:"1973",value:"1973"},{label:"1974",value:"1974"},{label:"1975",value:"1975"},{label:"1976",value:"1976"},{label:"1977",value:"1977"},{label:"1978",value:"1978"},{label:"1979",value:"1979"},{label:"1980",value:"1980"},{label:"1981",value:"1981"},{label:"1982",value:"1982"},{label:"1983",value:"1983"},{label:"1984",value:"1984"},{label:"1985",value:"1985"},{label:"1986",value:"1986"},{label:"1987",value:"1987"},{label:"1988",value:"1988"},{label:"1989",value:"1989"},{label:"1990",value:"1990"},{label:"1991",value:"1991"},{label:"1992",value:"1992"},{label:"1993",value:"1993"},{label:"1994",value:"1994"},{label:"1995",value:"1995"},{label:"1996",value:"1996"},{label:"1997",value:"1997"},{label:"1998",value:"1998"},{label:"1999",value:"1999"},{label:"2000",value:"2000"},{label:"2001",value:"2001"},{label:"2002",value:"2002"},{label:"2003",value:"2003"},{label:"2004",value:"2004"},{label:"2005",value:"2005"},{label:"2006",value:"2006"},{label:"2007",value:"2007"},{label:"2008",value:"2008"},{label:"2009",value:"2009"},{label:"2010",value:"2010"},{label:"2011",value:"2011"},{label:"2012",value:"2012"},{label:"2013",value:"2013"},{label:"2014",value:"2014"},{label:"2015",value:"2015"},{label:"2016",value:"2016"},{label:"2017",value:"2017"},{label:"2018",value:"2018"},{label:"2019",value:"2019"},{label:"2020",value:"2020"},{label:"2021",value:"2021"},{label:"2022",value:"2022"},{label:"2023",value:"2023"},{label:"2024",value:"2024"},{label:"2025",value:"2025"}])};var Z=function(e){var a=e.with_genres,t=e.allGenres,n=e.onChangeGenres;return o.a.createElement(o.a.Fragment,null,o.a.createElement("label",{className:"filters-label genre-label",htmlFor:"with_genres"},"\u0416\u0430\u043d\u0440\u044b"),o.a.createElement("div",{className:"genres",id:"with_genres"},t.map((function(e){return o.a.createElement("div",{className:"genres__item",key:e.id},o.a.createElement("input",{type:"checkbox",value:e.id,checked:-1!==a.indexOf(String(e.id)),className:"genres__item__checkbox",name:"with_genres",id:e.id,onChange:n}),o.a.createElement("label",{className:"genres__item__label",htmlFor:e.id},e.name))}))))};Z.defaultProps={allGenres:[]};var ee=Z,ae=function(e){Object(d.a)(t,e);var a=Object(v.a)(t);function t(){var e;return Object(u.a)(this,t),(e=a.call(this)).onChangeGenres=function(a){var t=a.target,n=t.name,r=t.value,s=e.props,o=s.onChangeFilters,i=s.with_genres;-1===i.indexOf(String(r))?o({target:{name:n,value:[].concat(Object($.a)(i),[r])}}):o({target:{name:n,value:i.filter((function(e){return e!==r}))}})},e.state={allGenres:[]},e}return Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this,a="https://api.themoviedb.org/3/genre/movie/list?api_key=".concat(O,"&language=ru-RU");return fetch(a).then((function(e){return e.json()})).then((function(a){e.setState({allGenres:a.genres})}))}},{key:"render",value:function(){return o.a.createElement(ee,{with_genres:this.props.with_genres,allGenres:this.state.allGenres,onChangeGenres:this.onChangeGenres})}}]),t}(o.a.PureComponent),te=function(e){Object(d.a)(t,e);var a=Object(v.a)(t);function t(){return Object(u.a)(this,t),a.apply(this,arguments)}return Object(m.a)(t,[{key:"render",value:function(){var e=this.props,a=e.filters,t=e.onChangeFilters,n=e.page,r=e.onChangePage,s=e.total_pages,i=e.resetFilters;return o.a.createElement(o.a.Fragment,null,o.a.createElement("form",{className:"mb-3"},o.a.createElement("div",{className:"sort form-group"},o.a.createElement("label",{className:"filters-label",htmlFor:"sort_by"},"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"),o.a.createElement(K,{sort_by:a.sort_by,onChangeFilters:t})),o.a.createElement(Y,{total_pages:s,onChangePage:r,page:n}),o.a.createElement("div",{className:"sort form-group mt-3"},o.a.createElement("label",{className:"filters-label",htmlFor:"sort_by"},"\u0424\u0438\u043b\u044c\u0442\u0440\u043e\u0432\u0430\u0442\u044c"),o.a.createElement(X,{primary_release_year:a.primary_release_year,onChangeFilters:t}),o.a.createElement(ae,{with_genres:a.with_genres,onChangeFilters:t}),o.a.createElement("button",{onClick:i,className:"btn btn-light col-12 mt-2",type:"button",style:{background:"#e2e6ea"}},"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b"))))}}]),t}(o.a.Component),ne=t(98),re=t(99),se=t(100),oe=t(101),ie=t(102),le=[{month:"01",shortName:"\u044f\u043d\u0432",fullName:"\u044f\u043d\u0432\u0430\u0440\u044c"},{month:"02",shortName:"\u0444\u0435\u0432",fullName:"\u0444\u0435\u0432\u0440\u0430\u043b\u044c"},{month:"03",shortName:"\u043c\u0430\u0440",fullName:"\u043c\u0430\u0440\u0442"},{month:"04",shortName:"\u0430\u043f\u0440",fullName:"\u0430\u043f\u0440\u0435\u043b\u044c"},{month:"05",shortName:"\u043c\u0430\u0439",fullName:"\u043c\u0430\u0439"},{month:"06",shortName:"\u0438\u044e\u043d",fullName:"\u0438\u044e\u043d\u044c"},{month:"07",shortName:"\u0438\u044e\u043b",fullName:"\u0438\u044e\u043b\u044c"},{month:"08",shortName:"\u0430\u0432\u0433",fullName:"\u0430\u0432\u0433\u0443\u0441\u0442"},{month:"09",shortName:"\u0441\u0435\u043d",fullName:"\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c"},{month:"10",shortName:"\u043e\u043a\u0442",fullName:"\u043e\u043a\u0442\u044f\u0431\u0440\u044c"},{month:"11",shortName:"\u043d\u043e\u044f",fullName:"\u043d\u043e\u044f\u0431\u0440\u044c"},{month:"12",shortName:"\u0434\u0435\u043a",fullName:"\u0434\u0435\u043a\u0430\u0431\u0440\u044c"}],ce=H(function(e){Object(d.a)(t,e);var a=Object(v.a)(t);function t(){var e;return Object(u.a)(this,t),(e=a.call(this)).getMonthNameOnMonthNumber=function(){var a=e.props.movie;return le.filter((function(e){return e.month===a.release_date.substr(5,2)}))},e.toogleMovieModal=function(){var a=e.props,t=a.auth,n=a.authActions;t.session_id?e.setState((function(e){return{showMovieModal:!e.showMovieModal}})):n.toggleAuthFormModal(!0)},e.updateFavouriteMovies=function(){var a=e.props,t=a.movie,n=a.auth;a.moviesActions.updateFavouriteMovies({account_id:n.account_id,session_id:n.session_id,media_id:t.id}),e.toogleMovieModal()},e.updateWatchlist=function(){var a=e.props,t=a.movie,n=a.auth;a.moviesActions.updateWatchlist({account_id:n.account_id,session_id:n.session_id,media_id:t.id}),e.toogleMovieModal()},e.forEachFavouriteMoviesOrWatchlist=function(a){var t=e.props.movie,n=!1;return a.forEach((function(e){e.id===t.id&&(n=!0)})),n},e.state={showMovieModal:!1,favourite:!1},e}return Object(m.a)(t,[{key:"render",value:function(){var e=this.props,a=e.movie,t=e.movies,n="".concat(a.release_date.substr(8,2)," ").concat(this.getMonthNameOnMonthNumber()[0].shortName," ").concat(a.release_date.substr(0,4));return o.a.createElement("div",{className:"movie-card"},o.a.createElement(p.b,{to:"/kinopoisk/movie/".concat(a.id)},o.a.createElement("img",{className:"movie-card__img",src:a.poster_path?"".concat("https://image.tmdb.org/t/p/w500").concat(a.poster_path):"/kinopoisk/images/not-foundPoster.png",alt:""})),o.a.createElement("div",{className:"movie-card__desc"},o.a.createElement("p",{className:"movie-card__desc__vote-average"},1===String(a.vote_average).length?"".concat(a.vote_average,".0"):a.vote_average),o.a.createElement("p",{className:"movie-card__desc__title"},o.a.createElement(p.b,{to:"/kinopoisk/movie/".concat(a.id)},a.title)),o.a.createElement("p",{className:"movie-card__desc__release-date"},n)),o.a.createElement("div",{className:"movie-settings"},o.a.createElement("div",{className:"movie-settings__wrapper"},o.a.createElement("div",{className:"more-horiz"},o.a.createElement(ne.a,{className:"more-horiz__icon",onClick:this.toogleMovieModal})),this.state.showMovieModal&&o.a.createElement("div",{className:"settings-menu"},o.a.createElement("div",{className:"favourite-movie settings-menuItem",onClick:this.updateFavouriteMovies},this.forEachFavouriteMoviesOrWatchlist(t.favouriteMovies)?o.a.createElement(re.a,null):o.a.createElement(se.a,null),o.a.createElement("span",{className:"settings-title"},"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435")),o.a.createElement("div",{className:"willWatch-movie settings-menuItem",onClick:this.updateWatchlist},this.forEachFavouriteMoviesOrWatchlist(t.watchlist)?o.a.createElement(oe.a,null):o.a.createElement(ie.a,null),o.a.createElement("span",{className:"settings-title"},"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c"))))))}}]),t}(o.a.PureComponent)),ue=t(46),me=t.n(ue),de=function(e){Object(d.a)(t,e);var a=Object(v.a)(t);function t(){return Object(u.a)(this,t),a.apply(this,arguments)}return Object(m.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,this.props.movies.map((function(a){return o.a.createElement(ce,{movie:a,favouriteMovies:e.props.favouriteMovies,watchList:e.props.watchList,key:a.id})})))}}]),t}(o.a.PureComponent);de.defaultProps={movies:[]};var ve,pe=(ve=de,function(e){Object(d.a)(t,e);var a=Object(v.a)(t);function t(){var e;return Object(u.a)(this,t),(e=a.call(this)).getSettingsMovies=function(a,t){var n=e.props,r=n.session_id,s=n.account_id,o={language:"ru-RU",session_id:r,page:n.page};return w.get("/account/".concat(s).concat(t),{params:o}).then((function(t){e.setState(Object(_.a)({},a,t.results))}))},e.getMovies=function(a){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=a.sort_by,r=a.primary_release_year,s=a.with_genres,o=e.props.onChangeTotalPages,i={language:"ru-RU",sort_by:n,page:t,primary_release_year:r,with_genres:s.join(",")};return w.get("/discover/movie",{params:i}).then((function(a){o(a.total_pages),e.setState({movies:a.results})}))},e.state={movies:[]},e}return Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,a=e.filters,t=e.page;this.getMovies(a,t)}},{key:"componentDidUpdate",value:function(e){var a=this.props,t=a.onChangePage,n=a.filters,r=a.page;me.a.isEqual(e.filters,n)||(t(1),this.getMovies(n)),e.page!==r&&this.getMovies(n,r)}},{key:"render",value:function(){var e=this.state,a=e.movies,t=e.favouriteMovies,n=e.watchList;return o.a.createElement(ve,{account_id:this.props.account_id,session_id:this.props.session_id,movies:a,favouriteMovies:t,watchList:n})}}]),t}(o.a.PureComponent)),he=function(e){Object(d.a)(t,e);var a=Object(v.a)(t);function t(){var e;return Object(u.a)(this,t),(e=a.call(this)).onChangeFilters=function(a){var t=a.target,n=t.name,r=t.value;e.setState((function(e){return{filters:Object(g.a)(Object(g.a)({},e.filters),{},Object(_.a)({},n,r))}}))},e.onChangePage=function(a){e.setState({page:a})},e.onChangeTotalPages=function(a){e.setState({total_pages:a})},e.resetFilters=function(){e.setState(e.initialState)},e.initialState={filters:{sort_by:"popularity.desc",primary_release_year:(new Date).getFullYear(),with_genres:[]},page:1,total_pages:""},e.state=Object(g.a)({},e.initialState),e}return Object(m.a)(t,[{key:"render",value:function(){var e=this.state,a=e.filters,t=e.page,n=e.total_pages;return o.a.createElement("div",{className:"main container"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"filters col-3"},o.a.createElement(te,{onChangeFilters:this.onChangeFilters,filters:a,page:t,onChangePage:this.onChangePage,total_pages:n,resetFilters:this.resetFilters})),o.a.createElement("div",{className:"movies col-9"},o.a.createElement(pe,{filters:a,page:t,onChangePage:this.onChangePage,onChangeTotalPages:this.onChangeTotalPages}))))}}]),t}(o.a.Component),be=function(e){Object(d.a)(t,e);var a=Object(v.a)(t);function t(){var e;return Object(u.a)(this,t),(e=a.call(this)).forEachFavouriteMoviesOrWatchlist=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=!1;return e.forEach((function(e){e.id===a.id&&(t=!0)})),t},e.state={movie:{}},e}return Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;w.get("/movie/".concat(this.props.match.params.id),{params:{language:"ru-RU"}}).then((function(a){return e.setState((function(){return{movie:a}}))}))}},{key:"forEachGenresCompaniesCountries",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=[];return e.forEach((function(e){a.push(e.name)})),a}},{key:"render",value:function(){var e=this.state.movie,a=this.props,t=a.movies,n=a.moviesActions,r=a.auth;return o.a.createElement("div",{className:"movie-page"},o.a.createElement("div",{className:"movie-header"},o.a.createElement("div",{className:"movie-header__custom-bg text-right"},o.a.createElement("img",{src:"https://image.tmdb.org/t/p/w1920_and_h800_multi_faces".concat(e.belongs_to_collection?e.belongs_to_collection.backdrop_path:e.backdrop_path),alt:"",className:"movie-header__bg-img"})),o.a.createElement("div",{className:"movie-header__single-column"},o.a.createElement("div",{className:"movie-header__content-wrapper h-100"},o.a.createElement("div",{className:"container h-100"},o.a.createElement("div",{className:"row h-100"},o.a.createElement("div",{className:"col-4 pr-0 d-flex align-items-center h-100"},o.a.createElement("img",{src:"https://image.tmdb.org/t/p/w500".concat(e.poster_path),width:"290",alt:"",className:"movie-header__poster-img rounded-lg"})),o.a.createElement("div",{className:"col-8 pl-0 text-left d-flex justify-content-center flex-column h-100"},o.a.createElement("div",{className:"movie-header__description"},o.a.createElement("h2",{className:"movie-header__title"},e.title," ( ",e.original_title," )"),o.a.createElement("p",{className:"movie-header__tagline mb-1"},e.tagline),o.a.createElement("div",{className:"d-flex align-items-center mt-3 mb-3"},o.a.createElement("div",{className:"movie-header__rate d-flex justify-content-center align-items-center rounded-circle"},1===String(e.vote_average).length?"".concat(e.vote_average,".0"):e.vote_average),o.a.createElement("p",{className:"mb-0 pl-3",style:{lineHeight:"18px"}},"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 ",o.a.createElement("br",null)," \u0441\u0447\u0451\u0442"),o.a.createElement("div",{className:"ml-5 movie-header__favourite cursor-pointer d-flex justify-content-center align-items-center rounded-circle",onClick:function(){n.updateFavouriteMovies({account_id:r.account_id,session_id:r.session_id,media_id:e.id})}},this.forEachFavouriteMoviesOrWatchlist(t.favouriteMovies,e)?o.a.createElement(re.a,null):o.a.createElement(se.a,null)),o.a.createElement("div",{className:"ml-2 movie-header__watchlist cursor-pointer d-flex justify-content-center align-items-center rounded-circle",onClick:function(){n.updateWatchlist({account_id:r.account_id,session_id:r.session_id,media_id:e.id})}},this.forEachFavouriteMoviesOrWatchlist(t.watchlist,e)?o.a.createElement(oe.a,null):o.a.createElement(ie.a,null))),o.a.createElement("p",{className:"mb-1"},o.a.createElement("span",{className:"font-weight-bold"},"\u0421\u0442\u0430\u0442\u0443\u0441")," -"," ",e.status),o.a.createElement("p",{className:"mb-1"},o.a.createElement("span",{className:"font-weight-bold"},"\u0414\u0430\u0442\u0430 \u0432\u044b\u0445\u043e\u0434\u0430")," -"," ",e.release_date),o.a.createElement("p",{className:"mb-1"},o.a.createElement("span",{className:"font-weight-bold"},"\u0416\u0430\u043d\u0440\u044b")," -"," ",this.forEachGenresCompaniesCountries(e.genres).join(", ")),o.a.createElement("p",{className:"mb-1"},o.a.createElement("span",{className:"font-weight-bold"},"\u042f\u0437\u044b\u043a \u043e\u0440\u0438\u0433\u0438\u043d\u0430\u043b\u0430")," ","- ",e.original_language),o.a.createElement("p",{className:"mb-1"},o.a.createElement("span",{className:"font-weight-bold"},"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f")," -"," ",this.forEachGenresCompaniesCountries(e.production_companies).join(", ")),o.a.createElement("p",{className:"mb-3"},o.a.createElement("span",{className:"font-weight-bold"},"\u0421\u0442\u0440\u0430\u043d\u0430")," -"," ",this.forEachGenresCompaniesCountries(e.production_countries).join(", ")),o.a.createElement("h4",{className:"mb-1"},"\u041e\u0431\u0437\u043e\u0440"),o.a.createElement("p",null,e.overview)))))))))}}]),t}(o.a.Component),_e=t(103),ge=t(104),fe=t(105),Ee=t(106),Ne=t(107),Oe=t(108),ye=t(109),we=H((function(e){var a=function(e,a){var t=!1;return e.forEach((function(e){e.id===a.id&&(t=!0)})),t},t=e.auth,n=e.moviesActions,r=e.movies;return o.a.createElement("div",{className:"favourite-movies-tab"},o.a.createElement("div",{className:"favourite-movies"},r.favouriteMovies.map((function(r){var s="".concat(r.release_date.substr(8,2)," ").concat(function(e){return le.filter((function(a){return a.month===e.release_date.substr(5,2)}))}(r)[0].shortName," ").concat(r.release_date.substr(0,4));return o.a.createElement("div",{className:"favourite-movies__item",key:r.id},o.a.createElement("div",{className:"poster-img"},o.a.createElement("img",{src:"https://image.tmdb.org/t/p/w500".concat(r.poster_path),alt:"",className:"poster-img__image"})),o.a.createElement("div",{className:"description"},o.a.createElement("div",{className:"description__top-block"},o.a.createElement("div",{className:"rate"},1===String(r.vote_average).length?"".concat(r.vote_average,".0"):r.vote_average),o.a.createElement("div",{className:"title"},o.a.createElement("p",{className:"movie-name"},o.a.createElement(p.b,{to:"/kinopoisk/movie/".concat(r.id)},r.title)),o.a.createElement("p",{className:"release-date"},s))),o.a.createElement("div",{className:"description__middle-block"},o.a.createElement("div",{className:"movie-overview"},o.a.createElement("p",{className:"text"},r.overview))),o.a.createElement("div",{className:"description__bottom-block"},o.a.createElement("div",{className:"favourite cursor-pointer",onClick:function(){n.updateFavouriteMovies({account_id:t.account_id,session_id:t.session_id,media_id:r.id})}},o.a.createElement("div",{className:"icon"},a(e.movies.favouriteMovies,r)?o.a.createElement(re.a,null):o.a.createElement(se.a,null)),o.a.createElement("span",{className:"settings-title"},"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435")),o.a.createElement("div",{className:"watchlist cursor-pointer",onClick:function(){n.updateWatchlist({account_id:t.account_id,session_id:t.session_id,media_id:r.id})}},o.a.createElement("div",{className:"icon"},a(e.movies.watchlist,r)?o.a.createElement(oe.a,null):o.a.createElement(ie.a,null)),o.a.createElement("span",{className:"settings-title"},"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c")))))}))))})),je=H((function(e){var a=function(e,a){var t=!1;return e.forEach((function(e){e.id===a.id&&(t=!0)})),t},t=e.auth,n=e.moviesActions,r=e.movies;return o.a.createElement("div",{className:"favourite-movies-tab"},o.a.createElement("div",{className:"favourite-movies"},r.watchlist.map((function(r){var s="".concat(r.release_date.substr(8,2)," ").concat(function(e){return le.filter((function(a){return a.month===e.release_date.substr(5,2)}))}(r)[0].shortName," ").concat(r.release_date.substr(0,4));return o.a.createElement("div",{className:"favourite-movies__item",key:r.id},o.a.createElement("div",{className:"poster-img"},o.a.createElement("img",{src:"https://image.tmdb.org/t/p/w500".concat(r.poster_path),alt:"",className:"poster-img__image"})),o.a.createElement("div",{className:"description"},o.a.createElement("div",{className:"description__top-block"},o.a.createElement("div",{className:"rate"},1===String(r.vote_average).length?"".concat(r.vote_average,".0"):r.vote_average),o.a.createElement("div",{className:"title"},o.a.createElement("p",{className:"movie-name"},o.a.createElement(p.b,{to:"/kinopoisk/movie/".concat(r.id)},r.title)),o.a.createElement("p",{className:"release-date"},s))),o.a.createElement("div",{className:"description__middle-block"},o.a.createElement("div",{className:"movie-overview"},o.a.createElement("p",{className:"text"},r.overview))),o.a.createElement("div",{className:"description__bottom-block"},o.a.createElement("div",{className:"favourite cursor-pointer",onClick:function(){n.updateFavouriteMovies({account_id:t.account_id,session_id:t.session_id,media_id:r.id})}},o.a.createElement("div",{className:"icon"},a(e.movies.favouriteMovies,r)?o.a.createElement(re.a,null):o.a.createElement(se.a,null)),o.a.createElement("span",{className:"settings-title"},"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435")),o.a.createElement("div",{className:"watchlist cursor-pointer",onClick:function(){n.updateWatchlist({account_id:t.account_id,session_id:t.session_id,media_id:r.id})}},o.a.createElement("div",{className:"icon"},a(e.movies.watchlist,r)?o.a.createElement(oe.a,null):o.a.createElement(ie.a,null)),o.a.createElement("span",{className:"settings-title"},"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c")))))}))))})),Ce=H(function(e){Object(d.a)(t,e);var a=Object(v.a)(t);function t(){var e;return Object(u.a)(this,t),(e=a.call(this)).state={activeTab:"1"},e}return Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.authActions.toggleUserModal(!1)}},{key:"render",value:function(){var e=this,a=this.props,t=a.auth,n=a.movies,r=function(a){e.state.activeTab!==a&&e.setState((function(){return{activeTab:a}}))},s=this.state.activeTab;return o.a.createElement("div",{className:"user-page"},o.a.createElement("div",{className:"user-page__header"},o.a.createElement("div",{className:"bg-image"},o.a.createElement("img",{className:"image",src:"/kinopoisk/images/user-page.png",alt:""})),o.a.createElement("div",{className:"inner-content"},o.a.createElement("div",{className:"content container"},o.a.createElement("img",{src:"https://image.tmdb.org/t/p/w500".concat(t.user.avatar.tmdb.avatar_path),alt:"",className:"user-img"}),o.a.createElement("div",{className:"user-data"},o.a.createElement("h2",{className:"user-data__name"},t.user.name),o.a.createElement("p",{className:"user-data__nickname"},t.user.username))))),o.a.createElement("div",{className:"container"},o.a.createElement(_e.a,{tabs:!0},o.a.createElement(ge.a,{className:"cursor-pointer"},o.a.createElement(fe.a,{className:C()({active:"1"===s}),onClick:function(){r("1")}},"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0435")),o.a.createElement(ge.a,{className:"cursor-pointer"},o.a.createElement(fe.a,{className:C()({active:"2"===s}),onClick:function(){r("2")}},"\u0421\u043f\u0438\u0441\u043e\u043a \u043e\u0442\u0441\u043b\u0435\u0436\u0438\u0432\u0430\u043d\u0438\u044f"))),o.a.createElement(Ee.a,{activeTab:s},o.a.createElement(Ne.a,{tabId:"1"},o.a.createElement(Oe.a,null,o.a.createElement(ye.a,{sm:"12"},n.favouriteMovies.length>0?o.a.createElement(we,null):o.a.createElement("p",{className:"mt-4"},"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u0444\u0438\u043b\u044c\u043c\u043e\u0432...")))),o.a.createElement(Ne.a,{tabId:"2"},o.a.createElement(Oe.a,null,o.a.createElement(ye.a,{sm:"12"},n.watchlist.length>0?o.a.createElement(je,null):o.a.createElement("p",{className:"mt-4"},"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u0444\u0438\u043b\u044c\u043c\u043e\u0432 \u0434\u043b\u044f \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430...")))))))}}]),t}(o.a.Component)),ke=H(function(e){Object(d.a)(t,e);var a=Object(v.a)(t);function t(){return Object(u.a)(this,t),a.apply(this,arguments)}return Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,a=e.auth,t=e.authActions,n=e.moviesActions;a.session_id?(t.fetchAuth(a.session_id),n.fetchFavouriteMovies({session_id:a.session_id,account_id:a.account_id}),n.fetchWatchlist({session_id:a.session_id,account_id:a.account_id})):t.toggleAuthFormModal(!0)}},{key:"render",value:function(){var e=this.props,a=e.movies,t=e.moviesActions,n=e.auth;return o.a.createElement(p.a,null,o.a.createElement("div",{className:"header"},o.a.createElement(Q,null)),o.a.createElement(z.a,{path:"/kinopoisk/profile/:id",render:function(){return o.a.createElement(Ce,null)}}),o.a.createElement(z.a,{path:"/kinopoisk/movie/:id",render:function(e){return o.a.createElement(be,Object.assign({},e,{movies:a,moviesActions:t,auth:n}))}}),o.a.createElement(z.a,{exact:!0,path:"/kinopoisk/",component:he}),o.a.createElement("div",{className:"footer"}))}}]),t}(o.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(84);var Me=t(47),Ae=t.n(Me),Fe=t(48),Se=t(49),Te=new x.a,Ue={user:null,session_id:Te.get("session_id"),account_id:Te.get("account_id"),isAuth:!1,showUserModal:!1,showAuthFormModal:!1};var Pe={favouriteMovies:[],watchlist:[]};var Re=Object(k.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"UPDATE_AUTH":return Object(g.a)(Object(g.a)({},e),{},{user:a.payload.user,session_id:a.payload.session_id,account_id:a.payload.user.id,isAuth:!0,showUserModal:!1,showAuthFormModal:!1});case"LOGOUT":return Object(g.a)(Object(g.a)({},e),{},{user:null,session_id:null,account_id:null,isAuth:!1,showUserModal:!1,showAuthFormModal:!1});case"TOGGLE_USER_MODAL":return Object(g.a)(Object(g.a)({},e),{},{showUserModal:a.payload});case"TOGGLE_AUTH_FORM_MODAL":return Object(g.a)(Object(g.a)({},e),{},{showAuthFormModal:a.payload});default:return e}},movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_SUCCESS_FAVOURITE_MOVIES":return Object(g.a)(Object(g.a)({},e),{},{favouriteMovies:a.payload.results});case"FETCH_SUCCESS_WATCHLIST":return Object(g.a)(Object(g.a)({},e),{},{watchlist:a.payload.results});case"UPDATE_SUCCESS_FAVOURITE_MOVIES":return Object(g.a)(Object(g.a)({},e),{},{favouriteMovies:a.payload.results});case"UPDATE_SUCCESS_WATCHLIST":return Object(g.a)(Object(g.a)({},e),{},{watchlist:a.payload.results});case"CLEAR_FAVOURITE_MOVIES_AND_WATCHLIST":return Object(g.a)(Object(g.a)({},e),{},{favouriteMovies:[],watchlist:[]});default:return e}}}),Ie=Object(k.createStore)(Re,Object(Se.composeWithDevTools)(Object(k.applyMiddleware)(Fe.a,(function(){return function(e){return function(a){return"UPDATE_AUTH"===a.type&&Te.set("session_id",a.payload.session_id,{path:"/kinopoisk/",maxAge:2592e3}),"LOGOUT"===a.type&&Te.remove("session_id",{path:"/kinopoisk/"}),e(a)}}}))));Ae.a.load({google:{families:["Open Sans"]}}),l.a.render(o.a.createElement(c.a,{store:Ie},o.a.createElement(ke,null)),document.getElementById("kinopoisk")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[52,1,2]]]);
//# sourceMappingURL=main.baf52828.chunk.js.map